{"version":3,"sources":["../node_modules/@arcgis/core/symbols/support/previewSymbol3D.js","../node_modules/@arcgis/core/views/support/floorFilterUtils.js","../node_modules/@arcgis/core/layers/support/sublayerUtils.js","../node_modules/@arcgis/core/layers/support/ExportImageParameters.js","../node_modules/@arcgis/core/renderers/support/rendererConversion.js","../node_modules/@arcgis/core/widgets/Legend/support/clusterUtils.js","../node_modules/@arcgis/core/renderers/support/numberUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/utils.js","../node_modules/@arcgis/core/widgets/Legend/support/colorRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/heatmapRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/relationshipRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/ActiveLayerInfo.js","../node_modules/@arcgis/core/widgets/Legend/LegendViewModel.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/relationshipUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/support/univariateUtils.js","../node_modules/@arcgis/core/widgets/Legend/support/styleUtils.js","../node_modules/@arcgis/core/widgets/Legend/styles/Card.js","../node_modules/@arcgis/core/widgets/Legend/styles/Classic.js","../node_modules/@arcgis/core/widgets/Legend.js"],"names":["D","O","E","o","getLogger","Z","e","t","outline","s","n","material","color","r","toHex","a","pattern","type","width","i","size","toRgba","Math","min","style","u","join","cap","patternCap","A","h","l","v","c","p","g","b","H","N","f","T","toCss","x","y","src","height","$","B","F","G","x1","y1","x2","y2","colors","offset","V","maxSize","disableUpsampling","symbolLayers","getItemAt","length","forEach","ceil","resource","href","thumbnail","url","Promise","resolve","U","styleOrigin","styleName","styleUrl","P","portal","catch","then","q","get","Q","z","max","shape","fill","stroke","push","m","symbolConfig","isTall","depth","J","primitive","cx","cy","path","command","values","w","k","K","value","error","warn","L","node","scale","opacity","d","j","M","Y","reject","S","R","profile","pathSymbol3DLayer","W","X","layer","floorInfo","floorField","view","floors","definitionExpression","filter","map","flatten","sublayers","some","originIdOf","source","mapLayerId","id","gdbVersion","slice","reverse","toArray","minScale","layerDefinition","visible","labelingInfo","labelsVisible","maxScale","renderer","this","hasDynamicLayers","visibleSublayers","toExportImageJSON","JSON","stringify","serviceSublayers","_get","_set","handles","remove","add","allSublayers","on","notifyChange","propertyName","reduce","commitProperty","unshift","dpi","format","imageFormat","transparent","imageTransparency","dynamicLayers","layers","layerDefs","readOnly","prototype","Number","visualVariables","find","featuresTilingScheme","getClosestInfoForScale","level","levels","field","minSize","minDataValue","maxDataValue","toFixed","previous","next","String","match","integer","split","fractional","toLowerCase","indexOf","abs","floor","tolerance","strictBounds","indexes","sort","maximumFractionDigits","I","stops","label","all","getColor","getOpacity","startIndex","endIndex","weight","blendColors","colorStops","ratio","HH","HL","LL","LH","top","bottom","left","right","focus","infos","numClasses","symbol","labels","rotation","legendOptions","customValues","target","C","authoringInfo","univariateTheme","outlineSize","classBreakInfos","clone","uniqueValueInfos","getSizeRangeAtScale","getSize","declaredClass","font","esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon","esriGeometryMultiPatch","u1","u2","u4","u8","s8","u16","s16","u32","s32","f32","f64","MAX_VALUE","ee","te","le","se","re","ne","ie","ae","oe","ue","ce","ye","he","de","me","pe","fe","ge","be","Se","_e","ve","we","Le","Ee","Ie","Ce","Re","Fe","Ve","Te","_handles","_hasColorRamp","_hasOpacityRamp","_hasSizeRamp","_webStyleSymbolCache","Map","_dotDensityUrlCache","_scaleDrivenSizeVariable","_hasClusterSizeVariable","children","layerView","legendElements","parent","hideLayersNotInCurrentView","keepCacheOnDestroy","respectLayerVisibility","sublayerIds","title","added","removed","uid","destroy","_getParentLayerOpacity","_isGroupActive","featureReduction","test","_isScaleDrivenSizeVariable","_isLayerScaleDriven","_isLayerInCurrentView","_getRendererLegendElements","featureSet","features","drawingInfo","read","geometryType","name","_constructLegendElementsForWMTSlayer","_constructLegendElementsForWMSSublayers","_constructLegendElementsForBuildingSceneLayer","_constructLegendElementsForSublayers","renderingRule","functionName","bandIds","_getLegendLayers","watch","default","buildLegendElementsForRenderer","buildLegendElementsForTools","_generateSymbolTableElementForLegendLayer","createQuery","geometry","extent","queryFeatureCount","ready","expression","valueExpression","loaded","sourceJSON","activeLayer","styleId","styles","legendUrl","customParameters","customLayerParameters","_generateLegendElementsForWMSSublayers","legendEnabled","_generateSymbolTableElementForWMSSublayer","_generateSymbolTableElementForLegendUrl","responseType","data","preview","_legendRequest","exportImageServiceParameters","toJSON","raster","viewId","replace","version","substring","encodeURI","query","_generateLegendElementsForBuildingSublayers","sublayer","_generateLegendElementsForSublayers","findSublayerById","Boolean","_isSublayerInScale","load","_generateSymbolTableElementForSublayer","set","layerId","legend","_isLegendLayerInScale","layerName","_getRendererTitle","legendType","_sanitizeLegendForSublayer","legendGroups","heading","_generateSymbolTableElementInfosForLegendLayer","groupId","imageData","tileInfo","lods","splice","_constructPointCloudRendererLegendElements","_constructDotDensityRendererLegendElements","_constructRendererLegendElements","_getPointCloudRendererTitle","colorClassBreakInfos","minValue","maxValue","_getAppliedCloneSymbol","colorUniqueValueInfos","concat","_getSymbolPreview","applyColorModulation","colorModulation","backgroundColor","dotSize","has","calculateDotValue","unit","round","attributes","_getElementInfoForDotDensity","valueExpressionTitle","_loadRenderer","_getVisualVariableLegendElements","Set","findIndex","field1","field2","normalizationField","_getFieldAlias","normField","angle","_getDomainName","defaultSymbol","defaultLabel","_isUnclassedRenderer","_updateInfosforClassedSizeRenderer","tileType","_getServerSideLegend","_constructTileImageryStretchRendererElements","statistics","outputMin","outputMax","generateRasterInfo","serviceRasterInfo","keyProperties","BandProperties","bandCount","_getStretchLegendElements","BandName","_createSymbolTableElementMultiBand","colormapInfos","pointSymbol","lineSymbol","polygonSymbol","outputUnit","attributeField","getClassBreakInfos","getDefaultSymbol","_isTallSymbol","_","_getAllInfos","isDefault","applyScaleDrivenSize","isSquareFill","setTimeout","rasterInfo","pixelType","hasStandardTime","getStandardTimeValue","Array","from","keys","colorRamps","toColor","fromColor","colorRamp","colorName","bandName","axis","_effectiveRenderer","clusterMinSize","clusterMaxSize","showLegend","_getMedianColor","_fetchSymbol","apply","_applySymbolToRenderer","user","username","fetchCIMSymbol","fetchSymbol","_applyColorTo3dSymbol","_getRampTitle","getField","_getClusterTitle","getFieldDomain","getName","popupTemplate","fieldInfos","fieldName","showCount","ratioPercent","ratioPercentTotal","normalizationType","normByPct","fieldsIndex","alias","dependsOn","ze","ofType","_layerViewByLayerId","_layerInfosByLayerViewId","_activeLayerInfosByLayerViewId","_activeLayerInfosWithNoParent","activeLayerInfos","basemapLegendVisible","groundLegendVisible","layerInfos","_viewHandles","_refresh","_destroyViewActiveLayerInfos","_stateHandles","_resetAll","state","_watchPropertiesAndAllLayerViews","removeAll","Object","_destroyViewActiveLayerInfo","allLayerViews","_allLayerViewsChangeHandle","bind","_propertiesChangeHandle","_generateLayerViews","_filterLayerViewsByLayerInfos","_isLayerViewSupported","_generateActiveLayerInfo","_sortActiveLayerInfos","removeMany","_filterLayerViews","_collectLayerViews","_hasLayerInfo","_isLayerUIDMatching","_hasLayerUID","includes","_isLayerActive","_buildActiveLayerInfo","_layerActiveHandle","_titleHandle","_constructLegendElements","_scaleHandle","_legendEnabledHandle","isScaleDriven","_addActiveLayerInfo","_removeActiveLayerInfo","featureCollections","buildLegendElementsForFeatureCollections","sqrt","class","xmlns","markerWidth","markerHeight","refX","refY","markerUnits","orient","points","transform","markerStart","markerEnd","document","createElement","className","toString","append","tagName","appendChild","align","rampAlignment","sizeRampElement","colorRampElement","dotValue","clusterCountTitle","window","devicePixelRatio","_hasIndicators","_selectedSectionName","_sectionNames","_sectionMap","headingLevel","layout","messages","messagesCommon","own","_watchForSectionChanges","container","clientWidth","_renderLegendForLayer","pagination","pageText","index","total","key","role","tabIndex","onclick","_selectSection","onkeydown","_focusSection","classes","noLegend","getAttribute","_switchSectionOnArrowPress","getElementById","_generateSectionNames","_generateSectionNamesForActiveLayerInfo","_getSectionName","_renderLegendForElement","_renderLegendForElementInfo","properties","_renderLegendForRamp","_renderSizeRamp","_renderUnivariateAboveAndBelowRamp","_renderUnivariateColorSizeRamp","marginTop","marginLeft","display","flexDirection","justifyContent","afterCreate","isBright","background","textShadow","border","_renderImage","alt","getContext","beginPath","moveTo","lineTo","strokeStyle","marginBottom","marginRight","cloneNode","_renderSizeRampLines","alignItems","verticalAlign","_getStretchStopLabel","notation","iconClass","viewModel","_refreshActiveLayerInfos","render","_renderOnActiveLayerInfoChange","scheduleRender","aliasOf","overridable"],"mappings":"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","file":"static/js/77.c6658098.chunk.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import{toHSV as t,toRGB as s}from\"../../core/colorUtils.js\";import\"../../core/has.js\";import r from\"../../core/Error.js\";import o from\"../../core/Logger.js\";import{isNone as a,isSome as n}from\"../../core/maybe.js\";import{eachAlways as l}from\"../../core/promiseUtils.js\";import{pt2px as i}from\"../../core/screenUtils.js\";import{defaultThematicColor as c,getPatternUrlWithColor as p,dekebabifyLineStyle as u}from\"./gfxUtils.js\";import{defaultPrimitive as h}from\"./IconSymbol3DLayerResource.js\";import{defaultPrimitive as m}from\"./ObjectSymbol3DLayerResource.js\";import{adjustColorComponentBrightness as f,getPathSymbolShapes as y,shapes as d,getTetrahedronShapes as b,getDiamondShapes as v,getCylinderShapes as g,getCubeShapes as k,getInvertedConeShapes as w,getConeShapes as x,getWaterSymbolShapes as M,getExtrudeSymbolShapes as j}from\"./previewUtils.js\";import{renderSymbol as L,tintImageWithColor as z}from\"./renderUtils.js\";import{resolveWebStyleSymbol as P}from\"./styleUtils.js\";import{isVolumetricSymbol as S,getIconHref as U}from\"./utils.js\";const D=22,O=120,I=80,R=40,C=20,E=o.getLogger(\"esri.symbols.support.previewSymbol3D\");function Z(e){const t=e.outline,s=n(e.material)?e.material.color:null,r=n(s)?s.toHex():null;if(a(t)||\"none\"===t.pattern)return\"fill\"===e.type&&\"#ffffff\"===r?{color:\"#bdc3c7\",width:.75}:null;const o=i(t.size)||0;return{color:\"rgba(\"+(n(t.color)?t.color.toRgba():\"255,255,255,1\")+\")\",width:Math.min(o,I),style:\"pattern\"in e?u(t.pattern):null,join:\"butt\",cap:t.patternCap}}function q(t,s){const r=s&&s.resource,o=r&&r.href;if(t.thumbnail&&t.thumbnail.url)return Promise.resolve(t.thumbnail.url);if(o&&\"object\"!==s.type)return Promise.resolve(U(t,s));const a=e(\"esri/images/Legend/legend3dsymboldefault.png\");return t.styleOrigin&&(t.styleOrigin.styleName||t.styleOrigin.styleUrl)?P(t.styleOrigin,{portal:t.styleOrigin.portal},\"webRef\").catch((e=>e)).then((e=>{var t;return(null==e||null==(t=e.thumbnail)?void 0:t.url)||a})):Promise.resolve(a)}function A(e,r=1){const o=e.a,a=t(e),n=a.h,l=a.s/r,i=100-(100-a.v)/r,{r:c,g:p,b:u}=s({h:n,s:l,v:i});return[c,p,u,o]}function H(e){return\"water\"===e.type?a(e.color)?null:e.color:a(e.material)||a(e.material.color)?null:e.material.color}function N(e,t=0){const s=H(e);if(!s){if(\"fill\"===e.type)return null;const s=c.r,r=f(s,t);return[r,r,r,100]}const r=s.toRgba();for(let o=0;o<3;o++)r[o]=f(r[o],t);return r}async function T(t,s){const r=t.style;if(\"none\"===r)return null;return{type:\"pattern\",x:0,y:0,src:await p(e(`esri/symbols/patterns/${r}.png`),s.toCss(!0)),width:5,height:5}}function $(e){return e.outline?Z(e):{color:\"rgba(0, 0, 0, 1)\",width:1.5}}function B(e,t){const s=H(e);if(!s)return null;let r=\"rgba(\";return r+=f(s.r,t)+\",\",r+=f(s.g,t)+\",\",r+=f(s.b,t)+\",\",r+s.a+\");\"}function F(e,t){const s=B(e,t);if(!s)return{};if(\"pattern\"in e&&\"none\"===e.pattern)return null;return{color:s,width:Math.min(e.size?i(e.size):.75,I),style:\"pattern\"in e?u(e.pattern):null,cap:\"cap\"in e?e.cap:null,join:\"join\"in e?\"miter\"===e.join?i(2):e.join:null}}function G(e,t,s){const r=.75*s;return{type:\"linear\",x1:r?.25*r:0,y1:r?.5*r:0,x2:r||4,y2:r?.5*r:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function J(e){const t=e.depth,s=e.height,r=e.width;return r&&t&&s&&r===t&&r<s}function K(e,t,s){const r=[];if(!e)return r;switch(e.type){case\"icon\":{const s=0,o=0,a=t,n=t;switch(e.resource&&e.resource.primitive||h){case\"circle\":r.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:N(e,0),stroke:Z(e)});break;case\"square\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,n]},{command:\"L\",values:[s,o]},{command:\"L\",values:[a,o]},{command:\"L\",values:[a,n]},{command:\"Z\",values:[]}]},fill:N(e,0),stroke:Z(e)});break;case\"triangle\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,n]},{command:\"L\",values:[.5*a,o]},{command:\"L\",values:[a,n]},{command:\"Z\",values:[]}]},fill:N(e,0),stroke:Z(e)});break;case\"cross\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[.5*a,o]},{command:\"L\",values:[.5*a,n]},{command:\"M\",values:[s,.5*n]},{command:\"L\",values:[a,.5*n]}]},stroke:$(e)});break;case\"x\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,o]},{command:\"L\",values:[a,n]},{command:\"M\",values:[a,o]},{command:\"L\",values:[s,n]}]},stroke:$(e)});break;case\"kite\":r.push({shape:{type:\"path\",path:[{command:\"M\",values:[s,.5*n]},{command:\"L\",values:[.5*a,o]},{command:\"L\",values:[a,.5*n]},{command:\"L\",values:[.5*a,n]},{command:\"Z\",values:[]}]},fill:N(e,0),stroke:Z(e)})}break}case\"object\":switch(e.resource&&e.resource.primitive||m){case\"cone\":{const o=G(N(e,0),N(e,-.6),s?C:t),a=x(t,s);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:o});break}case\"inverted-cone\":{const s=N(e,0),o=G(s,N(e,-.6),t),a=w(t);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:s});break}case\"cube\":{const o=k(t,s);r.push({shape:o[0],fill:N(e,0)}),r.push({shape:o[1],fill:N(e,-.3)}),r.push({shape:o[2],fill:N(e,-.5)});break}case\"cylinder\":{const o=G(N(e,0),N(e,-.6),s?C:t),a=g(t,s);r.push({shape:a[0],fill:o}),r.push({shape:a[1],fill:o}),r.push({shape:a[2],fill:N(e,0)});break}case\"diamond\":{const s=v(t);r.push({shape:s[0],fill:N(e,-.3)}),r.push({shape:s[1],fill:N(e,0)}),r.push({shape:s[2],fill:N(e,-.3)}),r.push({shape:s[3],fill:N(e,-.7)});break}case\"sphere\":{const s=G(N(e,0),N(e,-.6));s.x1=0,s.y1=0,s.x2=.25*t,s.y2=.25*t,r.push({shape:{type:\"circle\",cx:0,cy:0,r:.5*t},fill:s});break}case\"tetrahedron\":{const s=b(t);r.push({shape:s[0],fill:N(e,-.3)}),r.push({shape:s[1],fill:N(e,0)}),r.push({shape:s[2],fill:N(e,-.6)});break}}break}return r}function Q(e){return\"icon\"===e.type?\"multiply\":\"tint\"}function V(e,t){const s=t&&t.size?i(t.size):null,r=t&&t.maxSize?i(t.maxSize):null,o=t&&t.disableUpsampling,a=e.symbolLayers,n=[];let c=0,p=0;const u=a.getItemAt(a.length-1);let h;return u&&\"icon\"===u.type&&(h=u.size&&i(u.size)),a.forEach((a=>{if(\"icon\"!==a.type&&\"object\"!==a.type)return;const l=\"icon\"===a.type?a.size&&i(a.size):0,u=s||l?Math.ceil(Math.min(s||l,r||O)):D;if(a&&a.resource&&a.resource.href){const t=q(e,a).then((function(e){const t=a.get(\"material.color\"),s=Q(a);return z(e,u,t,s,o)})).then((function(e){const t=e.width,s=e.height;return c=Math.max(c,t),p=Math.max(p,s),[{shape:{type:\"image\",x:0,y:0,width:t,height:s,src:e.url},fill:null,stroke:null}]}));n.push(t)}else{var m;let e=u;\"icon\"===a.type&&h&&s&&(e=u*(l/h));const r=\"tall\"===(null==t?void 0:t.symbolConfig)||(null==t||null==(m=t.symbolConfig)?void 0:m.isTall)||\"object\"===a.type&&J(a);c=Math.max(c,r?C:e),p=Math.max(p,e),n.push(Promise.resolve(K(a,e,r)))}})),l(n).then((function(e){const s=[];return e.forEach((function(e){e.value?s.push(e.value):e.error&&E.warn(\"error while building swatchInfo!\",e.error)})),L(s,[c,p],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function W(e,t){const s=e.symbolLayers,r=[],o=S(e),n=t&&t.size?i(t.size):null,l=(t&&t.maxSize?i(t.maxSize):null)||I;let c,p=0,u=0;return s.forEach(((e,t)=>{if(!e)return;if(\"line\"!==e.type&&\"path\"!==e.type)return;const s=[];switch(e.type){case\"line\":{const r=F(e,0);if(a(r))break;const o=r&&r.width||0;0===t&&(c=o);const i=Math.min(n||o,l),h=0===t?i:n?i*(o/c):i,m=h>R/2?2*h:R;u=Math.max(u,h),p=Math.max(p,m),r.width=h,s.push({shape:{type:\"path\",path:[{command:\"M\",values:[0,.5*u]},{command:\"L\",values:[p,.5*u]}]},stroke:r});break}case\"path\":{const t=Math.min(n||D,l),r=N(e,0),o=N(e,-.2),a=B(e,-.4),i=a?{color:a,width:1}:{};if(\"quad\"===e.profile){const t=e.width,a=e.height,n=y(t&&a?t/a:1,0===a,0===t),l={...i,join:\"bevel\"};s.push({shape:n[0],fill:o,stroke:l}),s.push({shape:n[1],fill:o,stroke:l}),s.push({shape:n[2],fill:r,stroke:l})}else s.push({shape:d.pathSymbol3DLayer[0],fill:o,stroke:i}),s.push({shape:d.pathSymbol3DLayer[1],fill:r,stroke:i});u=Math.max(u,t),p=u}}r.push(s)})),Promise.resolve(L(r,[p,u],{node:t&&t.node,scale:o,opacity:t&&t.opacity}))}async function X(e,t){const s=\"mesh-3d\"===e.type,r=e.symbolLayers,o=t&&t.size?i(t.size):null,l=t&&t.maxSize?i(t.maxSize):null,c=o||D,p=[];let u=0,h=0,m=!1;for(let i=0;i<r.length;i++){const e=r.getItemAt(i),t=[];if(s&&\"fill\"!==e.type)continue;const o=d.fill[0];switch(e.type){case\"fill\":{const r=Z(e),a=Math.min(c,l||O);u=Math.max(u,a),h=Math.max(h,a),m=!0;let i=N(e,0);const p=\"pattern\"in e&&e.pattern,f=H(e);!s&&n(p)&&\"style\"===p.type&&\"solid\"!==p.style&&f&&(i=await T(p,f)),t.push({shape:o,fill:i,stroke:r});break}case\"line\":{const s=F(e,0);if(a(s))break;const r={stroke:s,shape:o};u=Math.max(u,D),h=Math.max(h,D),t.push(r);break}case\"extrude\":{const s={join:\"round\",width:1,...F(e,-.4)},r=N(e,0),o=N(e,-.2),a=Math.min(c,l||O),n=j(a);s.width=1,t.push({shape:n[0],fill:o,stroke:s}),t.push({shape:n[1],fill:o,stroke:s}),t.push({shape:n[2],fill:r,stroke:s});const i=D,p=.7*D+.5*a;u=Math.max(u,i),h=Math.max(h,p);break}case\"water\":{const s=H(e),r=A(s),o=A(s,2),a=A(s,3),n=M();m=!0,t.push({shape:n[0],fill:r}),t.push({shape:n[1],fill:o}),t.push({shape:n[2],fill:a});const i=Math.min(c,l||O);u=Math.max(u,i),h=Math.max(h,i);break}}p.push(t)}return Promise.resolve(L(p,[u,h],{node:t&&t.node,scale:m,opacity:t&&t.opacity}))}function Y(e,t){if(0===e.symbolLayers.length)return Promise.reject(new r(\"symbolPreview: renderPreviewHTML3D\",\"No symbolLayers in the symbol.\"));switch(e.type){case\"point-3d\":return V(e,t);case\"line-3d\":return W(e,t);case\"polygon-3d\":case\"mesh-3d\":return X(e,t)}return Promise.reject(new r(\"symbolPreview: swatchInfo3D\",\"symbol not supported.\"))}export{T as getPatternDescriptor,N as getSymbolLayerFill,Y as previewSymbol3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction o(o){var n;const l=o.layer;if(\"floorInfo\"in l&&null!=(n=l.floorInfo)&&n.floorField&&\"floors\"in o.view){return r(o.view.floors,l.floorInfo.floorField)}return null}function n(o,n){var l;return\"floorInfo\"in n&&null!=(l=n.floorInfo)&&l.floorField?r(o,n.floorInfo.floorField):null}function l(o,n){const{definitionExpression:l}=n;return o?l?`(${l}) AND (${o})`:o:l}function r(o,n){if(null==o||!o.length)return null;const l=o.filter((o=>\"\"!==o)).map((o=>`'${o}'`));return l.push(\"''\"),`${n} IN (${l.join(\",\")}) OR ${n} IS NULL`}export{l as combineFloorsDefinitionExpression,o as getFloorFilterClause,n as getLayerFloorFilterClause};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nfunction e(e,n,i){const o=n.flatten((({sublayers:e})=>e)).length;if(o!==e.length)return!0;return!!e.some((e=>e.originIdOf(\"minScale\")>i||e.originIdOf(\"maxScale\")>i||e.originIdOf(\"renderer\")>i||e.originIdOf(\"labelingInfo\")>i||e.originIdOf(\"opacity\")>i||e.originIdOf(\"labelsVisible\")>i||e.originIdOf(\"source\")>i))||!r(e,n)}function n(e,n,i){return!!e.some((e=>{const n=e.source;return!(!n||\"map-layer\"===n.type&&n.mapLayerId===e.id&&(!n.gdbVersion||n.gdbVersion===i.gdbVersion))||e.originIdOf(\"renderer\")>2||e.originIdOf(\"labelingInfo\")>2||e.originIdOf(\"opacity\")>2||e.originIdOf(\"labelsVisible\")>2}))||!r(e,n)}function r(e,n){if(!e||!e.length)return!0;const r=n.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(e.length>r.length)return!1;let i=0;const o=r.length;for(const{id:t}of e){for(;i<o&&r[i]!==t;)i++;if(i>=o)return!1}return!0}function i(e){return!!e&&e.some((e=>null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale))}export{n as isExportDynamic,i as isSublayerOverhaul,e as shouldWriteSublayerStructure};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import{HandleOwnerMixin as s}from\"../../core/HandleOwner.js\";import{isSome as t}from\"../../core/maybe.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{combinedViewLayerTimeExtentProperty as a}from\"./commonProperties.js\";import{isExportDynamic as l}from\"./sublayerUtils.js\";import{getLayerFloorFilterClause as n,combineFloorsDefinitionExpression as y}from\"../../views/support/floorFilterUtils.js\";const m={visible:\"visibleSublayers\",definitionExpression:\"layerDefs\",labelingInfo:\"hasDynamicLayers\",labelsVisible:\"hasDynamicLayers\",opacity:\"hasDynamicLayers\",minScale:\"visibleSublayers\",maxScale:\"visibleSublayers\",renderer:\"hasDynamicLayers\",source:\"hasDynamicLayers\"};let c=class extends(s(r)){constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const r=n(this.floors,e);return e.toExportImageJSON(r)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&l(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}set layer(e){this._get(\"layer\")!==e&&(this._set(\"layer\",e),this.handles.remove(\"layer\"),e&&this.handles.add([e.allSublayers.on(\"change\",(()=>this.notifyChange(\"visibleSublayers\"))),e.on(\"sublayer-update\",(e=>this.notifyChange(m[e.propertyName])))],\"layer\"))}get layers(){const e=this.visibleSublayers;return e?e.length?\"show:\"+e.map((e=>e.id)).join(\",\"):\"show:-1\":null}get layerDefs(){var e;const r=!(null==(e=this.floors)||!e.length),s=this.visibleSublayers.filter((e=>null!=e.definitionExpression||r&&null!=e.floorInfo));return s.length?JSON.stringify(s.reduce(((e,r)=>{const s=n(this.floors,r),i=t(s)?y(s,r):r.definitionExpression;return e[r.id]=i,e}),{})):null}get version(){this.commitProperty(\"layers\"),this.commitProperty(\"layerDefs\"),this.commitProperty(\"dynamicLayers\"),this.commitProperty(\"timeExtent\");const e=this.layer;return e&&(e.commitProperty(\"dpi\"),e.commitProperty(\"imageFormat\"),e.commitProperty(\"imageTransparency\"),e.commitProperty(\"gdbVersion\")),(this._get(\"version\")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const r=this.layer.sublayers,s=r=>{const t=this.scale,i=0===t,o=0===r.minScale||t<=r.minScale,a=0===r.maxScale||t>=r.maxScale;r.visible&&(i||o&&a)&&(r.sublayers?r.sublayers.forEach(s):e.unshift(r))};r&&r.forEach(s);const t=this._get(\"visibleSublayers\");return!t||t.length!==e.length||t.some(((r,s)=>e[s]!==r))?e:t}toJSON(){const e=this.layer;let r={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?r.dynamicLayers=this.dynamicLayers:r={...r,layers:this.layers,layerDefs:this.layerDefs},r}};e([i({readOnly:!0})],c.prototype,\"dynamicLayers\",null),e([i()],c.prototype,\"floors\",void 0),e([i({readOnly:!0})],c.prototype,\"hasDynamicLayers\",null),e([i()],c.prototype,\"layer\",null),e([i({readOnly:!0})],c.prototype,\"layers\",null),e([i({readOnly:!0})],c.prototype,\"layerDefs\",null),e([i({type:Number})],c.prototype,\"scale\",void 0),e([i(a)],c.prototype,\"timeExtent\",void 0),e([i({readOnly:!0})],c.prototype,\"version\",null),e([i({readOnly:!0})],c.prototype,\"visibleSublayers\",null),c=e([o(\"esri.layers.mixins.ExportImageParameters\")],c);export{c as ExportImageParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import r from\"../../core/Error.js\";import{isNone as e}from\"../../core/maybe.js\";import{to3D as n}from\"../../symbols/support/symbolConversion.js\";function o(r){return e(r)||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type}function s(n){if(e(n))return null;if(!o(n))return new r(\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${n.type||n.declaredClass}'`,{renderer:n});switch(n.type){case\"simple\":return u(n);case\"unique-value\":return l(n);case\"class-breaks\":return i(n);case\"dictionary\":return null}return null}function t(e,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const s=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||s.push(r)})),new r(\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${s.join(\", \")}) which are not supported in 3D`,{renderer:e,symbolErrors:o})}return null}function u(r){return t(r,n(r.symbol).error)}function l(r){const e=r.uniqueValueInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}function i(r){const e=r.classBreakInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),o=n(r.defaultSymbol);return o.error&&e.unshift(o.error),t(r,e)}export{o as isSupportedRenderer3D,s as validateTo3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../renderers/visualVariables/SizeVariable.js\";const l=(e,l)=>{const a=e.featuresTilingScheme.getClosestInfoForScale(e.scale).level;return null!=l&&l.levels?l.levels[a]:null};function a(a,i){if(!a||!(\"visualVariables\"in a)||!a.visualVariables)return null;const s=a.visualVariables.find((e=>\"size\"===e.type)),n=l(i,s);return n?new e({field:s.field,minSize:n[2].size,minDataValue:n[2].value,maxSize:n[3].size,maxDataValue:n[3].value}):null}export{a as getClusterSizeVariable};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../intl.js\";import{formatNumber as t}from\"../../intl/number.js\";const n=/^-?(\\d+)(\\.(\\d+))?$/i;function e(t,n){return t-n}function r(t,n){let e,r;return e=Number(t.toFixed(n)),e<t?r=e+1/10**n:(r=e,e-=1/10**n),e=Number(e.toFixed(n)),r=Number(r.toFixed(n)),[e,r]}function o(t,n,e,r,o){const i=l(t,n,e,r),u=null==i.previous||i.previous<=o,s=null==i.next||i.next<=o;return u&&s||i.previous+i.next<=2*o}function i(t){const e=String(t),r=e.match(n);if(r&&r[1])return{integer:r[1].split(\"\").length,fractional:r[3]?r[3].split(\"\").length:0};if(e.toLowerCase().indexOf(\"e\")>-1){const t=e.split(\"e\"),n=t[0],r=t[1];if(n&&r){const t=Number(n);let e=Number(r);const o=e>0;o||(e=Math.abs(e));const l=i(t);return o?(l.integer+=e,e>l.fractional?l.fractional=0:l.fractional-=e):(l.fractional+=e,e>l.integer?l.integer=1:l.integer-=e),l}}return{integer:0,fractional:0}}function l(t,n,e,r){const o={previous:null,next:null};if(null!=e){const r=t-e,i=n-e-r;o.previous=Math.floor(Math.abs(100*i/r))}if(null!=r){const e=r-t,i=r-n-e;o.next=Math.floor(Math.abs(100*i/e))}return o}function u(t,n={}){const l=t.slice(0),{tolerance:u=2,strictBounds:s=!1,indexes:c=l.map(((t,n)=>n))}=n;c.sort(e);for(let e=0;e<c.length;e++){const t=c[e],n=l[t],a=0===t?null:l[t-1],f=t===l.length-1?null:l[t+1],m=i(n).fractional;if(m){let i,c=0,g=!1;for(;c<=m&&!g;){const t=r(n,c);i=s&&0===e?t[1]:t[0],g=o(n,i,a,f,u),c++}g&&(l[t]=i)}}return l}const s={maximumFractionDigits:20};function c(n){return t(n,s)}export{c as format,i as numDigits,l as percentChange,u as round};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{formatDate as A,convertDateFormatToIntlOptions as a}from\"../../../intl/date.js\";import{format as t}from\"../../../renderers/support/numberUtils.js\";const g=\"<\",w=\">\",I=a(\"short-date\");function U(a,U,e,i){let o=\"\";0===U?o=`${g} `:U===e&&(o=`${w} `);let r=null;return r=i?A(a,I):t(a),o+r}const e=[\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=\",\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII=\"];export{e as RGB_IMG_SOURCE,U as createStopLabel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport l from\"../../../Color.js\";import{createStopLabel as e}from\"./utils.js\";const o=new l([64,64,64]);function n(l,o){const n=[],r=l.length-1;return 5===l.length?n.push(0,2,4):n.push(0,r),l.map(((l,t)=>n.indexOf(t)>-1?e(l,t,r,o):null))}async function r(l,e,o){let r=!1,a=[],u=[];if(l.stops){const e=l.stops;a=e.map((l=>l.value)),r=e.some((l=>!!l.label)),r&&(u=e.map((l=>l.label)))}const s=a[0],i=a[a.length-1];if(null==s&&null==i)return null;const c=r?null:n(a,o);return(await Promise.all(a.map((async(o,n)=>({value:o,color:\"opacity\"===l.type?await t(o,l,e):(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getColor(l,o),label:r?u[n]:c[n]}))))).reverse()}async function t(e,n,r=o){const t=new l(r),a=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getOpacity(n,e);return null!=a&&(t.a=a),t}function a(l){let e=!1,o=[],r=[];o=l.map((l=>l.value)),e=l.some((l=>!!l.label)),e&&(r=l.map((l=>l.label)));const t=o[0],a=o[o.length-1];if(null==t&&null==a)return null;const s=e?null:n(o,!1);return o.map(((o,n)=>({value:o,color:u(o,l),label:e?r[n]:s[n]}))).reverse()}function u(e,o){const{startIndex:n,endIndex:r,weight:t}=s(e,o);if(n===r)return o[n].color;const a=l.blendColors(o[n].color,o[r].color,t);return new l(a)}function s(l,e){let o=0,n=e.length-1;return e.some(((e,r)=>l<e.value?(n=r,!0):(o=r,!1))),{startIndex:o,endIndex:n,weight:(l-e[o].value)/(e[n].value-e[o].value)}}function i(e,o){let n=[];if(e&&\"multipart\"===e.type)e.colorRamps.reverse().forEach((function(r,t){0===t?n.push({value:o.max,color:new l(r.toColor),label:\"high\"}):n.push({value:null,color:new l(r.toColor),label:\"\"}),t===e.colorRamps.length-1?n.push({value:o.min,color:new l(r.fromColor),label:\"low\"}):n.push({value:null,color:new l(r.fromColor),label:\"\"})}));else{let r,t;e&&\"algorithmic\"===e.type?(r=e.fromColor,t=e.toColor):(r=[0,0,0,1],t=[255,255,255,1]),n=[{value:o.max,color:new l(t),label:\"high\"},{value:o.min,color:new l(r),label:\"low\"}]}return n}export{u as getColorFromPointCloudStops,r as getRampStops,a as getRampStopsForPointCloud,i as getStrectchRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport o from\"../../../renderers/support/HeatmapColorStop.js\";function r(r){let t=r.colorStops,e=t.length-1;if(t&&t[0]){const r=t[e];r&&1!==r.ratio&&(t=t.slice(0),t.push(new o({ratio:1,color:r.color})),e++)}return t.map(((o,r)=>{let t=\"\";return 0===r?t=\"low\":r===e&&(t=\"high\"),{color:o.color,label:t,ratio:o.ratio}})).reverse()}export{r as getHeatmapRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{clone as t}from\"../../../core/lang.js\";import{getStroke as o,getFill as e}from\"../../../symbols/support/gfxUtils.js\";import{getSymbolLayerFill as r}from\"../../../symbols/support/previewSymbol3D.js\";const s={HH:315,HL:45,LL:135,LH:225},l={2:[[\"HL\",\"HH\"],[\"LL\",\"LH\"]],3:[[\"HL\",\"HM\",\"HH\"],[\"ML\",\"MM\",\"MH\"],[\"LL\",\"LM\",\"LH\"]],4:[[\"HL\",\"HM1\",\"HM2\",\"HH\"],[\"M2L\",\"M2M1\",\"M2M2\",\"M2H\"],[\"M1L\",\"M1M1\",\"M1M2\",\"M1H\"],[\"LL\",\"LM1\",\"LM2\",\"LH\"]]};function n(t){if(!t)return;const{type:s}=t;if(s.indexOf(\"3d\")>-1)return r(t.symbolLayers.getItemAt(0));if(\"simple-line\"===s){const e=o(t);return e&&e.color}if(\"simple-marker\"===t.type&&(\"x\"===t.style||\"cross\"===t.style)){const e=o(t);return e&&e.color}return e(t)}function H(t,o){const e=o.HH.label,r=o.LL.label,s=o.HL.label,l=o.LH.label;switch(t){case\"HH\":return{top:e,bottom:r,left:s,right:l};case\"HL\":return{top:s,bottom:l,left:r,right:e};case\"LL\":return{top:r,bottom:e,left:l,right:s};case\"LH\":return{top:l,bottom:s,left:e,right:r};default:return{top:e,bottom:r,left:s,right:l}}}function i(o,e){const r=[],s=o.length**.5,l=t(o),n=(e||\"HH\").split(\"\"),H=n[0],i=\"H\"===n[1];for(;l.length;){const t=[];for(;t.length<s;)t.push(l.shift());i&&t.reverse(),r.push(t)}return\"L\"===H&&r.reverse(),r}function L(t){const{focus:o,infos:e,numClasses:r}=t,s=l[r],i={};e.forEach((t=>{i[t.value]={label:t.label,fill:n(t.symbol)}}));const L=[];for(let l=0;l<r;l++){const t=[];for(let o=0;o<r;o++){const e=i[s[l][o]];t.push(e.fill)}L.push(t)}return{type:\"relationship-ramp\",numClasses:r,focus:o,colors:L,labels:H(o,i),rotation:f(o)}}function f(t){let o=s[t];return t&&null==o&&(o=s.HH),o||0}export{i as getRelationshipRampColors2D,L as getRelationshipRampElement,f as getRotationAngleForFocus};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";import{isSymbol3D as l}from\"../../../symbols.js\";import{round as t,numDigits as n,percentChange as i}from\"../../../renderers/support/numberUtils.js\";import{applyCIMSymbolColor as o}from\"../../../symbols/support/cimSymbolUtils.js\";import{isVolumetricSymbol as s,getSymbolOutlineSize as r}from\"../../../symbols/support/utils.js\";import{createStopLabel as a}from\"./utils.js\";const u=30,c=12,m=[255,255,255],f=[200,200,200],p=[128,128,128],y=20,b=5;function d(e){return\"esri.symbols.SimpleMarkerSymbol\"===e.declaredClass}function h(e){return\"esri.symbols.PictureMarkerSymbol\"===e.declaredClass}function v(e){return\"esri.symbols.SimpleLineSymbol\"===e.declaredClass}function g(e){return\"esri.symbols.TextSymbol\"===e.declaredClass}function w(e,l){const t=e.length-1;return e.map(((e,n)=>a(e,n,t,l)))}async function S(e,l,n,i,o,a){var u,c;const m=l.legendOptions,f=m&&m.customValues,p=V(e,n),y=!!p,b=!!f,d=null!=l.minSize&&null!=l.maxSize,h=l.stops&&l.stops.length>1,v=!!l.target;if(!y||!b&&!(d||h&&!v))return;const g=s(p);let S=null,k=null,j=null;k=g&&!h?t([l.minDataValue,l.maxDataValue]):f||await C(l,p,i,o);const L=null==e?void 0:e.authoringInfo,O=\"univariate-color-size\"===(null==L?void 0:L.type),D=O&&\"above-and-below\"===(null==L?void 0:L.univariateTheme);if(!k&&h&&(k=l.stops.map((e=>e.value)),S=l.stops.some((e=>!!e.label)),S&&(j=l.stops.map((e=>e.label)))),g&&(null==(u=k)?void 0:u.length)>2&&!D&&(k=[k[0],k[k.length-1]]),!k)return null;O&&5!==(null==(c=k)?void 0:c.length)&&(k=I({minSize:k[0],maxSize:k[k.length-1]}));const E=g?z(e,k):null,T=r(p),q=S?null:w(k,a);return(await Promise.all(k.map((async(t,n)=>{const s=g?E[n]:await M(l,p,t,i,o);return{value:t,symbol:U(D&&\"class-breaks\"===e.type?x(e,n):p,s),label:S?j[n]:q[n],size:s,outlineSize:T}})))).reverse()}function z(e,l){const t=null==e?void 0:e.authoringInfo,n=\"univariate-color-size\"===(null==t?void 0:t.type);let i=[c,u];if(n){const e=l[0],t=l[l.length-1],n=c,o=u;i=l.map((l=>n+(l-e)/(t-e)*(o-n)))}return n&&\"below\"===(null==t?void 0:t.univariateTheme)&&i.reverse(),i}function x(e,l){const t=e.classBreakInfos,n=t.length,i=n<2||!(l>=2)?t[0].symbol.clone():t[n-1].symbol.clone();return e.visualVariables.some((e=>\"color\"===e.type))&&(i.type.indexOf(\"3d\")>-1?j(i):L(i)),i}function V(e,l){let t=null,n=null;if(\"simple\"===e.type)t=e.symbol;else if(\"class-breaks\"===e.type){const l=e.classBreakInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}else if(\"unique-value\"===e.type){const l=e.uniqueValueInfos;t=l&&l[0]&&l[0].symbol,n=l.length>1}return!t||k(t)?null:(t=t.clone(),(l||n)&&(t.type.indexOf(\"3d\")>-1?j(t):L(t)),t)}function k(e){if(e){if(l(e)){return!!e.symbolLayers&&e.symbolLayers.some((e=>e&&\"fill\"===e.type))}return-1!==e.type.indexOf(\"fill\")}return!1}function j(e){\"line-3d\"===e.type?e.symbolLayers.forEach((e=>{e.material={color:p}})):e.symbolLayers.forEach((e=>{\"icon\"!==e.type||e.resource&&e.resource.href?e.material={color:f}:(e.material={color:m},e.outline={color:p,size:1.5})}))}function L(l){\"cim\"===l.type?o(l,new e(f)):-1!==l.type.indexOf(\"line\")?l.color=p:(l.color=m,\"simple-marker\"===l.type&&(l.outline={color:p,width:1.5}))}async function C(e,l,n,i){const o=(await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\")).getSizeRangeAtScale(e,n,i),s=o&&I(o);if(!o&&!s)return;let r=s.map((l=>O(l,e,o)));r=t(r);for(let t=1;t<r.length-1;t++){const o=await D(e,l,r[t],r[t-1],n,i);o&&(r[t]=o[0],s[t]=o[1])}return r}function I(e){const l=e.minSize,t=e.maxSize,n=b,i=(t-l)/(n-1),o=[];for(let s=0;s<n;s++)o.push(l+i*s);return o}function O(e,l,t){const n=t.minSize,i=t.maxSize,o=l.minDataValue,s=l.maxDataValue;let r=null;if(e<=n)r=o;else if(e>=i)r=s;else{r=(e-n)/(i-n)*(s-o)+o}return r}async function D(e,l,o,s,r,a){const u=await M(e,l,o,r,a),c=await M(e,l,s,r,a),m=n(o),f=m.fractional,p=y;let b=m.integer,d=null,h=null;o>0&&o<1&&(d=10**f,b=n(o*=d).integer);for(let n=b-1;n>=0;n--){const s=10**n;let m=Math.floor(o/s)*s,f=Math.ceil(o/s)*s;null!=d&&(m/=d,f/=d);let y=(m+f)/2;[,y]=t([m,y,f],{indexes:[1]});const b=await M(e,l,m,r,a),v=await M(e,l,f,r,a),g=await M(e,l,y,r,a),w=i(u,b,c,null),S=i(u,v,c,null),z=i(u,g,c,null);let x=w.previous<=p,V=S.previous<=p;if(x&&V&&(w.previous<=S.previous?(x=!0,V=!1):(V=!0,x=!1)),x?h=[m,b]:V?h=[f,v]:z.previous<=p&&(h=[y,g]),h)break}return h}async function M(e,l,t,n,i){const{getSize:o}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return o(e,t,{scale:n,view:i,shape:\"simple-marker\"===l.type?l.style:null})}function U(e,t){const n=e.clone();if(l(n))s(n)||n.symbolLayers.forEach((e=>{\"fill\"!==e.type&&(e.size=t)}));else if(d(n))n.size=t;else if(h(n)){const e=n.width,l=n.height;n.height=t,n.width=t*(e/l)}else v(n)?n.width=t:g(n)&&n.font&&(n.font.size=t);return n}export{u as REAL_WORLD_MAX_SIZE,c as REAL_WORLD_MIN_SIZE,S as getRampStops};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Color.js\";import{addTokenParameter as l}from\"../../../kernel.js\";import s from\"../../../request.js\";import\"../../../symbols.js\";import r from\"../../../core/Accessor.js\";import n from\"../../../core/Collection.js\";import i from\"../../../core/Handles.js\";import{JSONMap as a}from\"../../../core/jsonMap.js\";import o from\"../../../core/Logger.js\";import{unwrap as u,isSome as d}from\"../../../core/maybe.js\";import{eachAlways as c,debounce as y}from\"../../../core/promiseUtils.js\";import{px2pt as h}from\"../../../core/screenUtils.js\";import{addQueryParameters as m}from\"../../../core/urlUtils.js\";import{on as p,init as f,whenFalseOnce as g,watch as b}from\"../../../core/watchUtils.js\";import{property as S}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import{subclass as _}from\"../../../core/accessorSupport/decorators/subclass.js\";import{ExportImageParameters as v}from\"../../../layers/support/ExportImageParameters.js\";import{isDateField as w}from\"../../../layers/support/fieldUtils.js\";import{fromJSON as L}from\"../../../renderers/support/jsonUtils.js\";import{isSupportedRenderer3D as E}from\"../../../renderers/support/rendererConversion.js\";import I from\"../../../renderers/visualVariables/support/SizeVariableLegendOptions.js\";import{applyCIMSymbolColor as C}from\"../../../symbols/support/cimSymbolUtils.js\";import{renderColorRampPreviewHTML as R,renderDotDensityPreviewHTML as F,renderPreviewHTML as V}from\"../../../symbols/support/symbolUtils.js\";import{isVolumetricSymbol as T}from\"../../../symbols/support/utils.js\";import{getClusterSizeVariable as z}from\"./clusterUtils.js\";import{getColorFromPointCloudStops as x,getRampStopsForPointCloud as M,getStrectchRampStops as j,getRampStops as D}from\"./colorRampUtils.js\";import{getHeatmapRampStops as O}from\"./heatmapRampUtils.js\";import{getRotationAngleForFocus as P,getRelationshipRampElement as B}from\"./relationshipRampUtils.js\";import{getRampStops as U,REAL_WORLD_MAX_SIZE as k,REAL_WORLD_MIN_SIZE as A}from\"./sizeRampUtils.js\";import{RGB_IMG_SOURCE as N}from\"./utils.js\";import q from\"../../../symbols/SimpleMarkerSymbol.js\";import W from\"../../../symbols/SimpleFillSymbol.js\";const $=o.getLogger(\"esri.widgets.Legend.support.ActiveLayerInfo\"),G=\"https://utility.arcgis.com/sharing/tools/legend\",J=\"esri.layers.ImageryLayer\",Q=\"esri.layers.ImageryTileLayer\",H=\"esri.layers.WCSLayer\",X=/^\\s*(return\\s+)?\\$view\\.scale\\s*(;)?\\s*$/i,K=new a({esriGeometryPoint:\"point\",esriGeometryMultipoint:\"multipoint\",esriGeometryPolyline:\"polyline\",esriGeometryPolygon:\"polygon\",esriGeometryMultiPatch:\"multipatch\"}),Y={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Z=new q({size:6,outline:{color:[128,128,128,.5],width:.5}}),ee=new W({style:\"solid\"});function te(e){return\"vector-field\"===e.type}function le(e){return\"raster-colormap\"===e.type}function se(e){return\"raster-stretch\"===e.type}function re(e){return\"raster-shaded-relief\"===e.type}function ne(e){return\"esri.renderers.SimpleRenderer\"===e.declaredClass}function ie(e){return\"esri.renderers.ClassBreaksRenderer\"===e.declaredClass}function ae(e){return\"esri.renderers.UniqueValueRenderer\"===e.declaredClass}function oe(e){return\"esri.renderers.HeatmapRenderer\"===e.declaredClass}function ue(e){return ce(e)||ye(e)||he(e)||de(e)}function de(e){return\"esri.renderers.PointCloudRGBRenderer\"===e.declaredClass}function ce(e){return\"esri.renderers.PointCloudClassBreaksRenderer\"===e.declaredClass}function ye(e){return\"esri.renderers.PointCloudStretchRenderer\"===e.declaredClass}function he(e){return\"esri.renderers.PointCloudUniqueValueRenderer\"===e.declaredClass}function me(e){return\"esri.renderers.DotDensityRenderer\"===e.declaredClass}function pe(e,t){return ne(e)||ie(e)||ae(e)||oe(e)||me(e)?\"2d\"===t.type||E(e):se(e)||le(e)||re(e)||ce(e)||ye(e)||he(e)||te(e)}function fe(e){return\"esri.layers.BuildingSceneLayer\"===e.declaredClass}function ge(e){return\"esri.layers.WMSLayer\"===e.declaredClass}function be(e){return\"esri.layers.WMTSLayer\"===e.declaredClass}function Se(e){return\"esri.layers.MapImageLayer\"===e.declaredClass}function _e(e){return\"esri.layers.TileLayer\"===e.declaredClass}function ve(e){return\"esri.layers.FeatureLayer\"===e.declaredClass}function we(e){return e.declaredClass===J}function Le(e){return e.declaredClass===Q}function Ee(e){return e.declaredClass===H}function Ie(e){return\"stretch-ramp\"===e.type}function Ce(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)}function Re(e){const t=\"authoringInfo\"in e&&(null==e?void 0:e.authoringInfo);return\"univariate-color-size\"===(null==t?void 0:t.type)&&\"above-and-below\"===(null==t?void 0:t.univariateTheme)}const Fe=new q({style:\"path\",path:\"M10,5 L5,0 0,5 M5,0 L5,15\",size:15,outline:{width:1,color:[85,85,85,1]}});let Ve={},Te=class extends r{constructor(e){super(e),this._handles=new i,this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._webStyleSymbolCache=new Map,this._dotDensityUrlCache=new Map,this._scaleDrivenSizeVariable=null,this._hasClusterSizeVariable=!1,this.children=new n,this.layerView=null,this.layer=null,this.legendElements=[],this.parent=null,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.sublayerIds=[],this.title=null,this.view=null}initialize(){const e=()=>this.notifyChange(\"ready\");this._handles.add([p(this,\"children\",\"change\",(t=>{const{added:l,removed:s}=t,r=this._handles;l.map((t=>{const l=`activeLayerInfo-ready-watcher-${t.layer.uid}`;r.add(f(t,\"ready\",e),l)})),s.forEach((e=>r.remove(e.layer.uid))),e()}))]),this.keepCacheOnDestroy||(Ve={})}destroy(){this._handles.destroy(),this._handles=null,this._webStyleSymbolCache=null,this._dotDensityUrlCache=null,this._scaleDrivenSizeVariable=null,this.keepCacheOnDestroy||(Ve=null)}get opacity(){var e;const t=this.layer.opacity,l=null==(e=this.parent)?void 0:e.opacity,s=this.layer.parent,r=s&&\"uid\"in s?this._getParentLayerOpacity(s):null;return null!=l?l*t:null!=r?r*t:t}get ready(){return null===this.layer||(this.children.length>0?this._isGroupActive():this.legendElements.length>0)}get scale(){return this.view&&this.view.scale}get isScaleDriven(){const e=this.layer;if(null===e)return!1;if(\"featureReduction\"in e&&e.featureReduction&&\"cluster\"===e.featureReduction.type)return!0;if(\"renderer\"in e&&e.renderer){if(\"dot-density\"===e.renderer.type)return!0;const t=e.get(\"renderer.valueExpression\");if(X.test(t))return!0;const l=e.get(\"renderer.visualVariables\");if(l)return l.some((e=>this._isScaleDrivenSizeVariable(e)))}return this._isLayerScaleDriven(this.layer)}get version(){return this._get(\"version\")+1}async buildLegendElementsForFeatureCollections(e){if(!(!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView()))return this.legendElements=[],void this.notifyChange(\"ready\");const t=e.map((e=>{if(ve(e))return this._getRendererLegendElements(e.renderer,{title:e.title});if(e.featureSet&&e.featureSet.features.length){const t=e.layerDefinition,l=t&&t.drawingInfo,s=l&&L(l.renderer),r=K.read(t.geometryType);return s?this._getRendererLegendElements(s,{title:e.name,geometryType:r}):($.warn(\"drawingInfo not available!\"),null)}return null}));try{const e=[];await c(t).then((t=>{t.forEach((({value:t})=>t&&e.push(...t)))})),this.legendElements=e,this.notifyChange(\"ready\")}catch(l){$.warn(\"error while building legend for layer!\",l)}}async buildLegendElementsForRenderer(e){try{const t=!this.hideLayersNotInCurrentView||await this._isLayerInCurrentView();this.legendElements=t?await this._getRendererLegendElements(e):[],this.notifyChange(\"ready\")}catch(t){$.warn(\"error while building legend for layer!\",t)}}async buildLegendElementsForTools(){const e=this.layer;if(be(e))this._constructLegendElementsForWMTSlayer();else if(ge(e))await this._constructLegendElementsForWMSSublayers();else if(fe(e))await this._constructLegendElementsForBuildingSceneLayer();else if(Se(e)||_e(e)||fe(e))await this._constructLegendElementsForSublayers();else{this._handles.remove(\"imageryLayers-watcher\");let s=\"default\";if(we(e)){var t,l;const r=e;s=((null==r||null==(t=r.renderingRule)?void 0:t.functionName)||\"default\")+\"_\"+(null!=(l=e.bandIds)&&l.length?e.bandIds.join(\"\"):\"###\")}await this._getLegendLayers(`${e.uid}-${s}`).then((async t=>{this.legendElements=[],this.notifyChange(\"ready\");const l=t.map((async t=>{if(we(e)||Le(e)){const t=e.watch([\"renderingRule\",\"bandIds\"],(()=>y((async()=>{Ve.default=null,e.renderer?await this.buildLegendElementsForRenderer(e.renderer):await this.buildLegendElementsForTools()}))()));this._handles.add(t,\"imageryLayers-watcher\")}const l=this._generateSymbolTableElementForLegendLayer(t);l&&l.infos.length&&(we(e)&&(l.title=e.title),this.legendElements.push(l)),this.notifyChange(\"ready\")}));await c(l)})).catch((e=>{$.warn(\"Request to server for legend has failed!\",e)}))}}async _isLayerInCurrentView(){const e=this.layer,t=this.layerView,l=t&&\"createQuery\"in t&&\"queryFeatureCount\"in t;if(!l&&!(t&&\"createQuery\"in e&&\"queryFeatureCount\"in e))return!0;await g(t,\"updating\");const s=l?\"createQuery\"in t&&t.createQuery():\"createQuery\"in e&&e.createQuery();s.geometry=this.view.extent;return 0!==(l?\"queryFeatureCount\"in t&&await t.queryFeatureCount(s):\"queryFeatureCount\"in e&&await e.queryFeatureCount(s))}_getParentLayerOpacity(e){let t=1;const l=e.parent;return l&&\"uid\"in l&&(t=this._getParentLayerOpacity(l)),e.opacity*t}_isGroupActive(){const e=this.children;return!!e.length&&e.some((e=>e.ready))}_isScaleDrivenSizeVariable(e){if(e&&\"size\"!==e.type)return!1;const t=e,l=t.minSize,s=t.maxSize;return\"object\"==typeof l&&l?this._isScaleDrivenSizeVariable(l):\"object\"==typeof s&&s?this._isScaleDrivenSizeVariable(s):!!t.expression||X.test(t.valueExpression)}_isLayerScaleDriven(e){if(\"minScale\"in e&&e.minScale>0||\"maxScale\"in e&&e.maxScale>0)return!0;if(\"sublayers\"in e&&e.sublayers)return e.sublayers.some((e=>this._isLayerScaleDriven(e)));const t=e.parent;if(!1===e.loaded&&t&&Se(t)&&\"source\"in e&&e.source&&\"map-layer\"===e.source.type)for(const l of t.sourceJSON.layers)if(l.id===e.source.mapLayerId&&(l.minScale>0||l.maxScale>0))return!0;return!1}_constructLegendElementsForWMTSlayer(){this.legendElements=[],this._handles.remove(\"wmts-activeLayer-watcher\");const e=this.layer.activeLayer;if(this._handles.add(b(this.layer,\"activeLayer\",(()=>this._constructLegendElementsForWMTSlayer())),\"wmts-activeLayer-watcher\"),e.styleId&&e.styles){let t=null;e.styles.some((l=>e.styleId===l.id&&(t=l.legendUrl,!0))),t&&(this.legendElements=[{type:\"symbol-table\",title:e.title,infos:[{src:t,opacity:this.opacity}]}])}this.notifyChange(\"ready\")}async _constructLegendElementsForWMSSublayers(){this.legendElements=[],this._handles.remove(\"wms-sublayers-watcher\");const e=this.layer;let t=null;(e.customParameters||e.customLayerParameters)&&(t={...e.customParameters,...e.customLayerParameters}),this._handles.add(b(this.layer,\"sublayers\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\"),this.legendElements=await this._generateLegendElementsForWMSSublayers(e.sublayers,t),this.notifyChange(\"ready\")}async _generateLegendElementsForWMSSublayers(e,t){const l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForWMSSublayers())),\"wms-sublayers-watcher\");const s=e.toArray();for(const r of s){const e=r.watch([\"title\",\"visible\",\"legendEnabled\"],(()=>this._constructLegendElementsForWMSSublayers()));if(this._handles.add(e,\"wms-sublayers-watcher\"),!this.respectLayerVisibility||r.visible&&r.legendEnabled){const e=await this._generateSymbolTableElementForWMSSublayer(r,t);e&&e.infos.length&&l.unshift(e)}}return l}async _generateSymbolTableElementForWMSSublayer(e,t){if(!e.legendUrl&&e.sublayers){const l=(await this._generateLegendElementsForWMSSublayers(e.sublayers,t)).filter((e=>e));return{type:\"symbol-table\",title:e.title,infos:l}}return this._generateSymbolTableElementForLegendUrl(e,t)}async _generateSymbolTableElementForLegendUrl(e,t){var l;let r=e.legendUrl;if(!r)return;const n={type:\"symbol-table\",title:e.title||e.name||e.id&&e.id+\"\",infos:[]};t&&(r=m(r,t));let i=null;const a=null==(l=e.layer)?void 0:l.opacity;try{i=(await s(r,{responseType:\"image\"})).data,i&&(i.style.opacity=a)}catch{}return n.infos.push({src:r,preview:i,opacity:a}),n}_getLegendLayers(e,t){const l=Ve&&Ve[e];return l?Promise.resolve(l):this._legendRequest(t).then((t=>{const l=t.layers;return Ve[e]=l,l}))}_legendRequest(e){const t=this.layer;let l={f:\"json\",dynamicLayers:e};if(we(t)){const e=t.exportImageServiceParameters.renderingRule;if(e&&(l.renderingRule=JSON.stringify(e.toJSON())),t.bandIds&&(l.bandIds=t.bandIds.join()),t.raster||t.viewId){const{raster:e,viewId:s}=t;l={raster:e,viewId:s,...l}}}let r=t.url.replace(/(\\/)+$/,\"\");if(\"version\"in t&&t.version>=10.01){const e=r.indexOf(\"?\");e>-1?r=r.substring(0,e)+\"/legend\"+r.substring(e):r+=\"/legend\"}else{const e=r.toLowerCase().indexOf(\"/rest/\"),t=r.substring(0,e)+r.substring(e+5,r.length);r=G+\"?soapUrl=\"+encodeURI(t)+\"&returnbytes=true\"}return s(r,{query:l}).then((e=>e.data))}async _constructLegendElementsForBuildingSceneLayer(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(b(e,\"sublayers\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForBuildingSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){$.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForBuildingSublayers(e,t){let l=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForBuildingSceneLayer())),\"sublayers-watcher\");const s=e.toArray();for(const r of s){const e=r.watch([\"renderer\",\"opacity\",\"title\",\"visible\"],(()=>this._constructLegendElementsForBuildingSceneLayer()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||r.visible){const e=r&&null!=r.opacity?r.opacity:null,s=null!=e?e*t:t;if(\"building-group\"===r.type){const e={type:\"symbol-table\",title:r.title,infos:[]},t=await this._generateLegendElementsForBuildingSublayers(r.sublayers,s);e.infos.push(...t),l=[e,...l]}else if(r.renderer){l=[...await this._getRendererLegendElements(r.renderer,{title:r.title,opacity:s,sublayer:r}),...l]}}}return l.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _constructLegendElementsForSublayers(){this.legendElements=[],this._handles.remove(\"sublayers-watcher\");const e=this.layer;this._handles.add(b(e,\"sublayers\",(()=>this._constructLegendElementsForSublayers)),\"sublayers-watcher\");try{this.legendElements=await this._generateLegendElementsForSublayers(e.sublayers,this.opacity),this.notifyChange(\"ready\")}catch(t){$.warn(\"Request to server for legend has failed!\",t)}}async _generateLegendElementsForSublayers(e,t,l){const s=this.layer;let r=[];this._handles.add(e.on(\"change\",(()=>this._constructLegendElementsForSublayers())),\"sublayers-watcher\");let n=e.toArray();!l&&this.sublayerIds&&this.sublayerIds.length&&(n=this.sublayerIds.map((e=>s.findSublayerById(e))).filter(Boolean));for(const i of n){const e=i.watch(\"renderer, opacity, title, visible, legendEnabled\",(()=>this._constructLegendElementsForSublayers()));if(this._handles.add(e,\"sublayers-watcher\"),!this.respectLayerVisibility||i.visible&&i.legendEnabled&&this._isSublayerInScale(i)){const e=i&&null!=i.opacity?i.opacity:null,s=null!=e?e*t:t;if(i.renderer&&!i.sublayers&&i.originIdOf(\"renderer\")>2){await i.load();r=[...await this._getRendererLegendElements(i.renderer,{title:i.title,opacity:s,sublayer:i}),...r]}else{const e=await this._generateSymbolTableElementForSublayer(i,s,l);e&&r.unshift(e)}}}return r.filter((e=>!!e&&(!(\"infos\"in e)||e.infos.length>0)))}async _generateSymbolTableElementForSublayer(e,t,l){if(!l){l=new Map;const t=this.layer,s=e.source;let r=null;if(!(!s||\"map-layer\"===s.type&&s.mapLayerId===e.id&&(!s.gdbVersion||s.gdbVersion===(\"gdbVersion\"in t&&t.gdbVersion)))||e.originIdOf(\"renderer\")>2||e.originIdOf(\"labelingInfo\")>2||e.originIdOf(\"labelsVisible\")>2){const e=new v({layer:this.layer});r=e.hasDynamicLayers?e.dynamicLayers:null,e.destroy()}const n=r||`${t.uid}-default`;(await this._getLegendLayers(n,r)).forEach((e=>l.set(e.layerId,e)))}const s=l.get(e.id);if(!s&&e.sublayers){const s=await this._generateLegendElementsForSublayers(e.sublayers,t,l);return{type:\"symbol-table\",title:e.title,infos:s}}return this._generateSymbolTableElementForLegendLayer(s,e,t)}_generateSymbolTableElementForLegendLayer(e,t,l){var s;if(!e||!e.legend||this.respectLayerVisibility&&!this._isLegendLayerInScale(e,t))return null;const r=null==t?void 0:t.renderer;let n=(null==t?void 0:t.title)||e.layerName;if(r&&(!t||(null==t?void 0:t.originIdOf(\"renderer\"))>2)){const e=(null==t?void 0:t.title)||this._getRendererTitle(r,t);e&&(n&&\"string\"!=typeof e&&\"title\"in e&&(e.title=n),n=e)}const i={type:\"symbol-table\",title:n,legendType:e.legendType?e.legendType:null,infos:[]},a=t?this._sanitizeLegendForSublayer(e.legend.slice(),t):e.legend;return(null==(s=e.legendGroups)?void 0:s.length)>0?e.legendGroups.forEach((t=>{var s;const r={type:\"symbol-table\",title:t.heading,legendType:e.legendType?e.legendType:null,infos:this._generateSymbolTableElementInfosForLegendLayer(a.filter((e=>e.groupId===t.id)),e.layerId,l)};(null==(s=r.infos)?void 0:s.length)>0&&i.infos.push(r)})):i.infos=this._generateSymbolTableElementInfosForLegendLayer(a,e.layerId,l),i.infos.length>0?i:null}_generateSymbolTableElementInfosForLegendLayer(e,t,s){return e.map((e=>{let r=e.url;if(e.imageData&&e.imageData.length>0)r=`data:image/png;base64,${e.imageData}`;else{if(0===r.indexOf(\"http\"))return null;r=l(`${this.layer.url}/${t}/images/${r}`)}return{label:e.label,src:r,opacity:null==s?this.opacity:s,width:e.width,height:e.height}})).filter((e=>!!e))}_isSublayerInScale(e){const t=e.minScale||0,l=e.maxScale||0;return!(t>0&&t<this.scale||l>this.scale)}_isLegendLayerInScale(e,t){const l=t||this.layer;let s=null,r=null,n=!0;return!l.minScale&&0!==l.minScale||!l.maxScale&&0!==l.maxScale?(0===e.minScale&&l.tileInfo&&(s=l.tileInfo.lods[0].scale),0===e.maxScale&&l.tileInfo&&(r=l.tileInfo.lods[l.tileInfo.lods.length-1].scale)):(s=Math.min(l.minScale,e.minScale)||l.minScale||e.minScale,r=Math.max(l.maxScale,e.maxScale)),(s>0&&s<this.scale||r>this.scale)&&(n=!1),n}_sanitizeLegendForSublayer(e,t){if(\"version\"in this.layer&&this.layer.version<10.1||0===e.length)return e;const l=t.renderer,s=e.some((e=>e.values));let r=null,n=null;return s&&e.some(((e,t)=>(e.values||(r=t,n=e,n.label||(n.label=\"others\")),null!=n))),l?\"unique-value\"===l.type?n&&(e.splice(r,1),e.push(n)):\"class-breaks\"===l.type&&(n&&e.splice(r,1),e.reverse(),n&&e.push(n)):n&&(e.splice(r,1),e.push(n)),e}async _getRendererLegendElements(e,t={}){return pe(e,this.view)?ue(e)?this._constructPointCloudRendererLegendElements(e,t):me(e)?this._constructDotDensityRendererLegendElements(e):this._constructRendererLegendElements(e,t):($.warn(`Renderer of type '${e.type}' not supported!`),[])}_getPointCloudRendererTitle(e){return e.legendOptions&&e.legendOptions.title||e.field}_constructPointCloudRendererLegendElements(e,t={}){const l=t.title,s=[];let r=null,n=null;if(ce(e))r={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorClassBreakInfos.forEach((e=>{r.infos.unshift({label:e.label||e.minValue+\" - \"+e.maxValue,value:[e.minValue,e.maxValue],symbol:this._getAppliedCloneSymbol(Z,e.color)})}));else if(ye(e)){const t=e.stops;let s=null;if(t.length&&(1===t.length&&(s=t[0].color),!s)){const e=t[0].value,l=t[t.length-1].value;if(null!=e&&null!=l){s=x(e+(l-e)/2,t)}}r={type:\"symbol-table\",title:null,infos:[{label:null,value:null,symbol:this._getAppliedCloneSymbol(Z,s||Z.color)}]};const i=M(e.stops);n={type:\"color-ramp\",title:l||this._getPointCloudRendererTitle(e),infos:i,preview:R(i.map((e=>e.color)))}}else he(e)&&(r={type:\"symbol-table\",title:l||this._getPointCloudRendererTitle(e),infos:[]},e.colorUniqueValueInfos.forEach((e=>{r.infos.push({label:e.label||e.values.join(\", \"),value:e.values.join(\", \"),symbol:this._getAppliedCloneSymbol(Z,e.color)})})));r&&r.infos.length&&s.push(r),n&&n.infos.length&&s.push(n);const i=s.reduce(((e,t)=>e.concat(t.infos)),[]).filter((e=>!!e.symbol)).map((t=>this._getSymbolPreview(t,this.opacity,{symbolConfig:{applyColorModulation:!!e.colorModulation}})));return c(i).then((()=>s))}_getElementInfoForDotDensity(e,t){const{backgroundColor:l,outline:s,dotSize:r}=e,n=r+\"-\"+t+\"-\"+l+\"-\"+(s&&JSON.stringify(s.toJSON())),i=this._dotDensityUrlCache,a=i.has(n)?i.get(n):F(e,t);return i.set(n,a),{opacity:1,src:a.src,preview:a,width:a.width,height:a.height}}_constructDotDensityRendererLegendElements(e){const t=e.calculateDotValue(this.view.scale),l=e.legendOptions&&e.legendOptions.unit,s={type:\"symbol-table\",title:{value:t&&Math.round(t),unit:l||\"\"},infos:[]};return e.attributes.forEach((t=>{const l=this._getElementInfoForDotDensity(e,t.color);l.label=t.label||t.valueExpressionTitle||t.field,s.infos.push(l)})),Promise.resolve([s])}async _constructRendererLegendElements(e,t={}){const{title:l,sublayer:s}=t,r=s||this.layer;let n=await this._loadRenderer(e);this._hasColorRamp=!1,this._hasOpacityRamp=!1,this._hasSizeRamp=!1,this._scaleDrivenSizeVariable=null;const i=await this._getVisualVariableLegendElements(n,r)||[],a={type:\"symbol-table\",title:l||this._getRendererTitle(n,r),infos:[]};let o=null,d=!1;const y=new Set;if(Ce(n)){let e=l;const t=Re(n)?\"univariate-above-and-below-ramp\":\"univariate-color-size-ramp\",s=i.findIndex((e=>\"color-ramp\"===e.type)),r=-1!==s?i.splice(s,1)[0]:null,a=i.findIndex((e=>\"size-ramp\"===e.type)),o=-1!==a?i.splice(a,1)[0]:null,u=[];r&&(e=r.title,u.push(r)),o&&(e=o.title,u.push(o)),u.length>0&&i.push({type:t,title:e,infos:u})}else if(oe(n)){const e=O(n);i.push({type:\"heatmap-ramp\",title:l,infos:e,preview:R(e.map((e=>e.color)))})}else if(ae(n)){const e=n&&n.authoringInfo;if(e&&\"relationship\"===e.type){const{focus:t,numClasses:l,field1:s,field2:o}=e;if(l&&s&&o){const e=[s,o];let u=P(t)||0;for(const t of e){const{field:e,normalizationField:l,label:s}=t,n=s||{field:this._getFieldAlias(e,r),normField:l&&this._getFieldAlias(l,r)},i=Fe.clone();i.angle=u,a.infos.push({label:n,symbol:i}),y.add(i),u+=90}const d=B({focus:t,numClasses:l,infos:n.uniqueValueInfos});i.unshift(d)}}else{const e=n.field;n.uniqueValueInfos.forEach((t=>{t.symbol&&a.infos.push({label:t.label||this._getDomainName(e,t.value,r)||t.value,value:t.value,symbol:t.symbol})}))}n.defaultSymbol&&(a.infos.push({label:n.defaultLabel||\"others\",symbol:n.defaultSymbol}),d=!0)}else if(ie(n)){o=this._isUnclassedRenderer(n);(!o||!this._hasSizeRamp)&&(n.classBreakInfos.forEach((e=>{e.symbol&&a.infos.unshift({label:e.label||(o?null:e.minValue+\" - \"+e.maxValue),value:[e.minValue,e.maxValue],symbol:e.symbol})})),o&&(a.title=null),this._updateInfosforClassedSizeRenderer(n,a.infos)),n.defaultSymbol&&!o&&(a.infos.push({label:n.defaultLabel||\"others\",symbol:n.defaultSymbol}),d=!0)}else if(se(n)){var h,m;if(Le(this.layer)&&\"Map\"===(null==(h=this.layer)||null==(m=h.raster)?void 0:m.tileType))this._getServerSideLegend();else if(Le(this.layer)||Ee(this.layer)){const e=this._constructTileImageryStretchRendererElements(n);Ie(e)?i.push(e):a.infos=e}else{const e=this.layer;let t,l;var p,f;if(n.statistics&&n.statistics.length)t=null!=n.statistics[0].min?n.statistics[0].min:n.statistics[0][0],l=null!=n.statistics[0].max?n.statistics[0].max:n.statistics[0][1];else t=null==(p=n)?void 0:p.outputMin,l=null==(f=n)?void 0:f.outputMax;let s=[];const r=u(e.renderingRule?await e.generateRasterInfo(e.renderingRule):e.serviceRasterInfo),o=r.keyProperties.BandProperties;1===r.bandCount?(t=null!=t?t:r.statistics&&r.statistics[0].min,l=null!=l?l:r.statistics&&r.statistics[0].max,t||l?i.push(this._getStretchLegendElements(n,{min:t,max:l})):this._getServerSideLegend()):e.bandIds&&1===e.bandIds.length?(t=null!=t?t:r.statistics&&r.statistics[e.bandIds[0]].min,l=null!=l?l:r.statistics&&r.statistics[e.bandIds[0]].max,t||l?i.push(this._getStretchLegendElements(n,{min:t,max:l})):this._getServerSideLegend()):r.bandCount>=3?o&&o.length>=r.bandCount?e.bandIds&&3===e.bandIds.length?(s=e.bandIds.map((e=>o[e].BandName)),a.infos=this._createSymbolTableElementMultiBand(s)):\"lerc\"===e.format?(s=[0,1,2].map((e=>o[e].BandName)),a.infos=this._createSymbolTableElementMultiBand(s)):this._getServerSideLegend():\"lerc\"===e.format?(s=[\"band1\",\"band2\",\"band3\"],a.infos=this._createSymbolTableElementMultiBand(s)):this._getServerSideLegend():this._getServerSideLegend()}}else if(le(n))n.colormapInfos.forEach((e=>{a.infos.push({label:e.label,value:e.value,symbol:this._getAppliedCloneSymbol(ee,e.color)})}));else if(ne(n)){let e=n.symbol;switch(t.geometryType){case\"point\":e=\"pointSymbol\"in r&&r.pointSymbol;break;case\"polyline\":e=\"lineSymbol\"in r&&r.lineSymbol;break;case\"polygon\":e=\"polygonSymbol\"in r&&r.polygonSymbol}n.symbol&&!this._hasSizeRamp&&a.infos.push({label:n.label,symbol:e})}else if(te(n)){n.outputUnit&&(this.title=\"(\"+n.toJSON().outputUnit+\")\"),a.title=n.attributeField;const e=n.getClassBreakInfos();null!=e&&e.length?e.forEach((e=>{a.infos.push({label:e.minValue+\" - \"+e.maxValue,symbol:e.symbol})})):a.infos.push({label:n.attributeField,symbol:n.getDefaultSymbol()})}else re(n)&&i.push(this._getStretchLegendElements(n,{min:0,max:255}));const g=n.defaultSymbol;!g||d||ne(n)||o&&!this._hasColorRamp&&!this._hasSizeRamp&&!this._hasOpacityRamp||i.push({type:\"symbol-table\",infos:[{label:n.defaultLabel||\"others\",symbol:g}]}),a.infos.length&&i.unshift(a);const b=null==t.opacity?this.opacity:t.opacity,S=this._isTallSymbol(\"visualVariables\"in n&&n.visualVariables),_=we(this.layer)||Le(this.layer),v=i.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]).filter((e=>!(null==e||!e.symbol))).map((e=>this._getSymbolPreview(e,b,{isDefault:e.symbol===g,applyScaleDrivenSize:!y.has(e.symbol),symbolConfig:{isTall:S,isSquareFill:_}})));return n=null,await c(v),i}_getServerSideLegend(){setTimeout((()=>this.buildLegendElementsForTools()),0)}_getAllInfos(e){const t=null==e?void 0:e.infos;return t?t.reduce(((e,t)=>e.concat(this._getAllInfos(t))),[]):[e]}_constructTileImageryStretchRendererElements(e){var t,l;const s=this.layer,r=s.rasterInfo,n=r.bandCount||e.statistics.length;let i,a,o=[];const u=r.keyProperties&&r.keyProperties.BandProperties,d=null!=e&&null!=(t=e.statistics)&&t.length?e.statistics:null==r?void 0:r.statistics;if(d)i=void 0!==d[0].min?d[0].min:d[0][0],a=d[0].max||d[0][1];else{const e=Y[s.rasterInfo.pixelType.toLowerCase()];i=e[0],a=e[1]}if(s.hasStandardTime()&&(i=s.getStandardTimeValue(i),a=s.getStandardTimeValue(a)),1===r.bandCount||1===(null==(l=s.bandIds)?void 0:l.length))return this._getStretchLegendElements(e,{min:i,max:a});function c(e){var t;const l=(null!=s&&null!=(t=s.bandIds)&&t.length?s.bandIds:Array.from(Array(Math.min(r.bandCount,3)).keys())).map((t=>e&&e[t]&&e[t].BandName||\"band\"+(t+1)));return l.length<3?l.push(l[1]):l.length>3&&l.splice(3),l}return o=u&&u.length>=n?c(u):c(),this._createSymbolTableElementMultiBand(o)}_getStretchLegendElements(e,t){const l=e.colorRamp,s=j(l,t);return{type:\"stretch-ramp\",title:\"\",infos:s,preview:R(s.map((e=>e.color)))}}_createSymbolTableElementMultiBand(e){const t=[],l=[\"red\",\"green\",\"blue\"];return e.forEach(((e,s)=>{t.push({label:{colorName:l[s],bandName:e},src:N[s],opacity:1})})),t}_updateInfosforClassedSizeRenderer(e,t){const l=e.authoringInfo&&\"class-breaks-size\"===e.authoringInfo.type,s=e.classBreakInfos.some((e=>T(e.symbol)));if(l&&s){const l=k,s=A,r=e.classBreakInfos.length,n=(l-s)/(r>1?r-1:r);t.forEach(((e,t)=>{e.size=l-n*t}))}}_isTallSymbol(e){let t=!1,l=!1;if(e)for(let s=0;s<e.length&&(!t||!l);s++){const r=e[s];\"size\"===r.type&&(\"height\"===r.axis&&(t=!0),\"width-and-depth\"===r.axis&&(l=!0))}return t&&l}async _getSymbolPreview(e,t,l){let s=null!=l&&l.isDefault||null!=e.size||!this._hasSizeRamp?e.size:h(22);if(this._scaleDrivenSizeVariable&&null!=l&&l.applyScaleDrivenSize){const{getSize:t}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");s=t(this._scaleDrivenSizeVariable,null,{view:this.view.type,scale:this.scale,shape:\"simple-marker\"===e.symbol.type?e.symbol.style:null})}return V(e.symbol,{size:s,opacity:t,scale:!1,symbolConfig:null==l?void 0:l.symbolConfig}).then((t=>(e.preview=t,e))).catch((()=>(e.preview=null,e)))}async _loadRenderer(e){var t,l;const s=[],r=this.layer;e=e.clone(),this._hasClusterSizeVariable=!1;const n=\"visualVariables\"in e&&(null==(t=e.visualVariables)?void 0:t.some((e=>\"size\"===e.type&&\"outline\"!==e.target&&!X.test(e.valueExpression))));if(e&&\"visualVariables\"in e&&!n&&\"featureReduction\"in r&&\"cluster\"===(null==(l=r.featureReduction)?void 0:l.type)){const t=this.layerView._effectiveRenderer,l=u(z(t,this.view));if(l){const t=r.featureReduction;if(\"clusterMinSize\"in t&&\"clusterMaxSize\"in t){const{clusterMinSize:e,clusterMaxSize:s}=t;l.legendOptions=new I({showLegend:e!==s})}const s=e.visualVariables||[];e.visualVariables=s.concat([l]),this._hasClusterSizeVariable=!0}}const i=await this._getMedianColor(e);if(ie(e)||ae(e)){const t=(e.classBreakInfos||e.uniqueValueInfos).map((e=>this._fetchSymbol(e.symbol,i).then((t=>{e.symbol=t})).catch((()=>{e.symbol=null}))));Array.prototype.push.apply(s,t)}return s.push(this._fetchSymbol(e.symbol||e.defaultSymbol,e.defaultSymbol?null:i).then((t=>{this._applySymbolToRenderer(e,t,ne(e))})).catch((()=>{this._applySymbolToRenderer(e,null,ne(e))}))),c(s).then((()=>e))}_applySymbolToRenderer(e,t,l){l?e.symbol=t:e.defaultSymbol=t}async _getMedianColor(e){if(!(\"visualVariables\"in e)||!e.visualVariables)return null;const t=e.visualVariables.find((e=>\"color\"===e.type));if(!t)return null;let l=null,s=null;if(t.stops){if(1===t.stops.length)return t.stops[0].color;l=t.stops[0].value,s=t.stops[t.stops.length-1].value}const r=l+(s-l)/2,{getColor:n}=await import(\"../../../renderers/visualVariables/support/visualVariableUtils.js\");return n(t,r)}_fetchSymbol(e,t){if(!e)return Promise.reject();if(\"web-style\"===e.type){const l=e.portal,s=l&&l.url,r=l&&l.user&&l.user.username,n=e.name+\"-\"+e.styleName+\"-\"+e.styleUrl+\"-\"+s+\"-\"+r,i=this._webStyleSymbolCache;return i.has(n)||(\"2d\"===this.view.type?i.set(n,e.fetchCIMSymbol()):i.set(n,e.fetchSymbol())),i.get(n).then((e=>this._getAppliedCloneSymbol(e,t))).catch((()=>($.warn(\"Fetching web-style failed!\"),Promise.reject())))}return Promise.resolve(this._getAppliedCloneSymbol(e,t))}_getAppliedCloneSymbol(e,l){if(!e||!l)return e;const s=e.clone(),r=l&&l.toRgba();return s.type.indexOf(\"3d\")>-1?this._applyColorTo3dSymbol(s,r):\"cim\"===s.type?C(s,l):s.color&&(s.color=new t(r||s.color)),s}_applyColorTo3dSymbol(e,l){l&&e.symbolLayers.forEach((e=>{e&&(e.material||(e.material={}),e.material.color=new t(l))}))}async _getVisualVariableLegendElements(e,t){if(!(\"visualVariables\"in e)||!e.visualVariables||\"vector-field\"===e.type)return null;const l=e.visualVariables,s=[],r=[],n=[];for(const u of l)\"color\"===u.type?s.push(u):\"size\"===u.type?r.push(u):\"opacity\"===u.type&&n.push(u);const i=[...s,...r,...n];let a,o;if(0===s.length&&ie(e)&&e.classBreakInfos&&1===e.classBreakInfos.length){const t=e.classBreakInfos[0];a=t&&t.symbol}if(0===s.length&&ne(e)&&(a=e.symbol),a)if(a.type.indexOf(\"3d\")>-1){const e=a.symbolLayers.getItemAt(0);\"water\"===e.type?d(e.color)&&(o=e.color):d(e.material)&&d(e.material.color)&&(o=e.material.color)}else a.url||(o=a.color);return(await Promise.all(i.map((async l=>{if(!l.legendOptions||!1!==l.legendOptions.showLegend){const s=this._getRampTitle(l,t);let r=null;const n=\"getField\"in t&&t.getField&&t.getField(l.field),i=n&&w(n);if(\"color\"===l.type){const e=await D(l,null,i);r={type:\"color-ramp\",title:s,infos:e,preview:R(e.map((e=>e.color)))},this._hasColorRamp||(this._hasColorRamp=!(null==r.infos||!r.infos.length))}else if(\"size\"===l.type&&\"outline\"!==l.target)X.test(l.valueExpression)?this._hasClusterSizeVariable||(this._scaleDrivenSizeVariable=l):(r={type:\"size-ramp\",title:this._hasClusterSizeVariable?this._getClusterTitle(l):s,infos:await U(e,l,await this._getMedianColor(e),this.scale,this.view.type,i)},this._hasSizeRamp||(this._hasSizeRamp=!(null==r.infos||!r.infos.length)));else if(\"opacity\"===l.type){const e=await D(l,o,i);r={type:\"opacity-ramp\",title:s,infos:e,preview:R(e.map((e=>e.color)))},this._hasOpacityRamp||(this._hasOpacityRamp=!(null==r.infos||!r.infos.length))}return r&&r.infos?r:null}})))).filter((e=>!!e))}_getDomainName(e,t,l){if(e&&\"function\"!=typeof e){const s=\"getField\"in l&&l.getField&&l.getField(e),r=s&&\"getFieldDomain\"in l&&l.getFieldDomain?l.getFieldDomain(s.name):null;return r&&\"coded-value\"===r.type?r.getName(t):null}return null}_getClusterTitle(e){const t=this.layer,l=e.field;if(\"featureReduction\"in t&&t.featureReduction&&\"cluster\"===t.featureReduction.type){const e=t.featureReduction,s=\"popupTemplate\"in e&&e.popupTemplate,r=s&&s.fieldInfos;if(r)for(const t of r)if(t.fieldName===l)return\"cluster_count\"===l?t.label||{showCount:!0}:t.label}return{showCount:!0}}_getRampTitle(e,t){let l=e.field,s=e.normalizationField,r=!1,n=!1,i=!1,a=null;l=\"function\"==typeof l?null:l,s=\"function\"==typeof s?null:s;const o=e.legendOptions&&e.legendOptions.title;if(null!=o)a=o;else if(e.valueExpressionTitle)a=e.valueExpressionTitle;else{if(\"renderer\"in t&&t.renderer&&\"authoringInfo\"in t.renderer&&t.renderer.authoringInfo&&t.renderer.authoringInfo.visualVariables){const e=t.renderer.authoringInfo.visualVariables;for(let t=0;t<e.length;t++){const l=e[t];if(\"color\"===l.type){if(\"ratio\"===l.style){r=!0;break}if(\"percent\"===l.style){n=!0;break}if(\"percent-of-total\"===l.style){i=!0;break}}}}a={field:l&&this._getFieldAlias(l,t),normField:s&&this._getFieldAlias(s,t),ratio:r,ratioPercent:n,ratioPercentTotal:i}}return a}_getRendererTitle(e,t){const l=e;if(l.legendOptions&&l.legendOptions.title)return l.legendOptions.title;if(l.valueExpressionTitle)return l.valueExpressionTitle;let s=l.field,r=null,n=null;ie(l)&&(r=l.normalizationField,n=\"percent-of-total\"===l.normalizationType),s=\"function\"==typeof s?null:s,r=\"function\"==typeof r?null:r;let i=null;return(s||r)&&(i={field:s&&this._getFieldAlias(s,t),normField:r&&this._getFieldAlias(r,t),normByPct:n}),i}_getFieldAlias(e,t){const l=\"popupTemplate\"in t&&t.popupTemplate,s=l&&l.fieldInfos;let r=null;s&&s.some((t=>e===t.fieldName&&(r=t,!0)));let n=null;\"getField\"in t&&t.getField?n=t.getField(e):\"fieldsIndex\"in t&&t.fieldsIndex&&(n=t.fieldsIndex.get(e));const i=r||n;let a=null;return i&&(a=r&&r.label||n&&n.alias||\"name\"in i&&i.name||\"fieldName\"in i&&i.fieldName),a}_isUnclassedRenderer(e){const t=e.visualVariables;let l=!1;return ie(e)&&e.classBreakInfos&&1===e.classBreakInfos.length&&t&&(l=e.field?t.some((t=>!(!t||e.field!==t.field||(e.normalizationField||t.normalizationField)&&e.normalizationField!==t.normalizationField))):!!t.length),l}};e([S()],Te.prototype,\"children\",void 0),e([S()],Te.prototype,\"layerView\",void 0),e([S()],Te.prototype,\"layer\",void 0),e([S()],Te.prototype,\"legendElements\",void 0),e([S({readOnly:!0})],Te.prototype,\"opacity\",null),e([S()],Te.prototype,\"parent\",void 0),e([S({readOnly:!0,dependsOn:[]})],Te.prototype,\"ready\",null),e([S()],Te.prototype,\"hideLayersNotInCurrentView\",void 0),e([S()],Te.prototype,\"keepCacheOnDestroy\",void 0),e([S()],Te.prototype,\"respectLayerVisibility\",void 0),e([S({readOnly:!0})],Te.prototype,\"scale\",null),e([S()],Te.prototype,\"sublayerIds\",void 0),e([S({readOnly:!0})],Te.prototype,\"isScaleDriven\",null),e([S()],Te.prototype,\"title\",void 0),e([S({readOnly:!0,dependsOn:[\"ready\"],value:0})],Te.prototype,\"version\",null),e([S()],Te.prototype,\"view\",void 0),Te=e([_(\"esri.widgets.Legend.support.ActiveLayerInfo\")],Te);var ze=Te;export{ze as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../intl.js\";import i from\"../../core/Accessor.js\";import r from\"../../core/Collection.js\";import t from\"../../core/Handles.js\";import{init as s,watch as a,whenTrue as n}from\"../../core/watchUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import\"../../core/Logger.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import y from\"./support/ActiveLayerInfo.js\";import{onLocaleChange as d}from\"../../intl/locale.js\";const h={state:\"state\",view:\"view\",allLayerViews:\"all-layer-views\",legendProperties:\"legend-properties\"},c=r.ofType(y),L=[\"esri.layers.BuildingSceneLayer\",\"esri.layers.CSVLayer\",\"esri.layers.FeatureLayer\",\"esri.layers.GeoJSONLayer\",\"esri.layers.GeoRSSLayer\",\"esri.layers.GroupLayer\",\"esri.layers.HeatmapLayer\",\"esri.layers.ImageryLayer\",\"esri.layers.ImageryTileLayer\",\"esri.layers.MapImageLayer\",\"esri.layers.OGCFeatureLayer\",\"esri.layers.PointCloudLayer\",\"esri.layers.StreamLayer\",\"esri.layers.SceneLayer\",\"esri.layers.TileLayer\",\"esri.layers.WFSLayer\",\"esri.layers.WMSLayer\",\"esri.layers.WMTSLayer\",\"esri.layers.WCSLayer\"],_=\"view.basemapView.baseLayerViews\",f=\"view.groundView.layerViews\",v=\"view.basemapView.referenceLayerViews\",p=[_,f,\"view.layerViews\",v];let u=class extends i{constructor(e){super(e),this._handles=new t,this._layerViewByLayerId={},this._layerInfosByLayerViewId={},this._activeLayerInfosByLayerViewId={},this._activeLayerInfosWithNoParent=new r,this.activeLayerInfos=new c,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.layerInfos=[],this.view=null}initialize(){this._handles.add(s(this,\"view\",this._viewHandles),h.view),this._handles.add(d((()=>this._refresh())))}destroy(){this._destroyViewActiveLayerInfos(),this._handles.destroy(),this._handles=null,this.view=null}get state(){return this.get(\"view.ready\")?\"ready\":\"disabled\"}_viewHandles(){this._handles.remove(h.state),this.view&&this._handles.add(s(this,\"state\",this._stateHandles),h.state)}_stateHandles(){this._resetAll(),\"ready\"===this.state&&this._watchPropertiesAndAllLayerViews()}_resetAll(){this._handles.remove([h.allLayerViews,h.legendProperties]),this._destroyViewActiveLayerInfos(),this.activeLayerInfos.removeAll()}_destroyViewActiveLayerInfos(){Object.keys(this._activeLayerInfosByLayerViewId).forEach(this._destroyViewActiveLayerInfo,this)}_destroyViewActiveLayerInfo(e){this._handles.remove(e);const i=this._activeLayerInfosByLayerViewId[e];delete this._activeLayerInfosByLayerViewId[e],i&&i.parent&&i.parent.children.remove(i)}_watchPropertiesAndAllLayerViews(){const{allLayerViews:e}=this.view;e.length&&this._refresh(),this._handles.add(e.on(\"change\",this._allLayerViewsChangeHandle.bind(this)),h.allLayerViews),this._handles.add(a(this,\"layerInfos, basemapLegendVisible, groundLegendVisible\",this._propertiesChangeHandle.bind(this)),h.legendProperties)}_allLayerViewsChangeHandle(e){e.removed.forEach((e=>this._destroyViewActiveLayerInfo(e.uid))),this._refresh()}_propertiesChangeHandle(){this._destroyViewActiveLayerInfos(),this._refresh()}_refresh(){this._layerInfosByLayerViewId={},this.activeLayerInfos.removeAll(),this._generateLayerViews().filter(this._filterLayerViewsByLayerInfos,this).filter(this._isLayerViewSupported,this).forEach(this._generateActiveLayerInfo,this),this._sortActiveLayerInfos(this.activeLayerInfos)}_sortActiveLayerInfos(e){if(e.length<2)return;const i=[];e.forEach((r=>{if(!r.parent){const t=r.layer.parent,s=t&&\"uid\"in t&&this._layerViewByLayerId[t.uid],a=s&&this._activeLayerInfosByLayerViewId[s.uid];a&&-1!==e.indexOf(a)&&(i.push(r),r.parent=a,a.children.add(r),this._sortActiveLayerInfos(a.children))}})),e.removeMany(i);const r={};this.view.allLayerViews.forEach(((e,i)=>r[e.layer.uid]=i)),e.sort(((e,i)=>{const t=r[e.layer.uid]||0;return(r[i.layer.uid]||0)-t}))}_generateLayerViews(){const e=[];return p.filter(this._filterLayerViews,this).map(this.get,this).filter((e=>null!=e)).forEach(this._collectLayerViews(\"layerViews\",e)),e}_filterLayerViews(e){const i=!this.basemapLegendVisible&&(e===_||e===v),r=!this.groundLegendVisible&&e===f;return!i&&!r}_collectLayerViews(e,i){const r=t=>(t&&t.forEach((t=>{i.push(t),r(t[e])})),i);return r}_filterLayerViewsByLayerInfos(e){const i=this.layerInfos;return!i||!i.length||i.some((i=>this._hasLayerInfo(i,e)))}_hasLayerInfo(e,i){const r=this._isLayerUIDMatching(e.layer,i.layer.uid);return r&&(this._layerInfosByLayerViewId[i.uid]=e),r}_isLayerUIDMatching(e,i){return e&&(e.uid===i||this._hasLayerUID(e.layers,i))}_hasLayerUID(e,i){return e&&e.some((e=>this._isLayerUIDMatching(e,i)))}_isLayerViewSupported(e){return!!L.includes(e.layer.declaredClass)&&(this._layerViewByLayerId[e.layer.uid]=e,!0)}_generateActiveLayerInfo(e){this._isLayerActive(e)?this._buildActiveLayerInfo(e):(this._handles.remove(e.uid),this._handles.add(a(e,\"legendEnabled, layer.legendEnabled\",(()=>this._layerActiveHandle(e))),e.uid))}_layerActiveHandle(e){this._isLayerActive(e)&&(this._handles.remove(e.uid),this._buildActiveLayerInfo(e))}_isLayerActive(e){return!this.respectLayerVisibility||e.legendEnabled&&e.get(\"layer.legendEnabled\")}_buildActiveLayerInfo(e){var i;const r=e.layer,t=e.uid,s=this._layerInfosByLayerViewId[t];let o=this._activeLayerInfosByLayerViewId[t];if(!o){const i=s&&void 0!==s.title&&s.layer.uid===r.uid;o=new y({layer:r,layerView:e,title:i?s.title:r.title,view:this.view,respectLayerVisibility:this.respectLayerVisibility,hideLayersNotInCurrentView:this.hideLayersNotInCurrentView,keepCacheOnDestroy:this.keepCacheOnDestroy,sublayerIds:s&&s.sublayerIds||[]}),this._activeLayerInfosByLayerViewId[t]=o}const l=r.parent&&\"uid\"in r.parent&&this._layerViewByLayerId[null==(i=r.parent)?void 0:i.uid];if(o.parent=this._activeLayerInfosByLayerViewId[null==l?void 0:l.uid],!this._handles.has(t)){const i=[a(r,\"title\",(e=>this._titleHandle(e,o))),a(r,\"renderer?, opacity, pointSymbol?, lineSymbol?, polygonSymbol?\",(()=>this._constructLegendElements(o))),n(this.view,\"stationary\",(()=>this._scaleHandle(o))),a(e,\"_effectiveRenderer\",(()=>this._constructLegendElements(o)))];if(this.respectLayerVisibility){const t=a(e,\"legendEnabled\",(e=>this._legendEnabledHandle(e,o))),s=a(r,\"legendEnabled\",(e=>this._legendEnabledHandle(e,o)));i.push(t,s)}this._handles.add(i,t)}o.isScaleDriven||this._constructLegendElements(o),this._addActiveLayerInfo(o)}_titleHandle(e,i){i.title=e,this._constructLegendElements(i)}_legendEnabledHandle(e,i){e?this._addActiveLayerInfo(i):this._removeActiveLayerInfo(i)}_scaleHandle(e){(e.isScaleDriven||e.hideLayersNotInCurrentView)&&this._constructLegendElements(e)}_addActiveLayerInfo(e){const{layerView:i,layer:r}=e;if(this._isLayerActive(i)&&-1===this.activeLayerInfos.indexOf(e)){const i=e.parent;if(i)-1===i.children.indexOf(e)&&i.children.push(e),this._sortActiveLayerInfos(i.children);else{var t;const i=null==(t=this.layerInfos)?void 0:t.some((e=>e.layer.uid===r.uid));r.parent&&\"uid\"in r.parent&&!i?this._activeLayerInfosWithNoParent.add(e):(this.activeLayerInfos.add(e),this._sortActiveLayerInfos(this.activeLayerInfos))}if(this._activeLayerInfosWithNoParent.length){const e=[];this._activeLayerInfosWithNoParent.forEach((i=>{const r=i.layer.parent,t=r&&\"uid\"in r&&this._layerViewByLayerId[null==r?void 0:r.uid],s=this._activeLayerInfosByLayerViewId[null==t?void 0:t.uid];s&&(e.push(i),i.parent=s)})),e.length&&(this._activeLayerInfosWithNoParent.removeMany(e),e.forEach((e=>this._addActiveLayerInfo(e))))}}}_removeActiveLayerInfo(e){const i=e.parent;i?i.children.remove(e):this.activeLayerInfos.remove(e)}_constructLegendElements(e){const i=e.layer;\"featureCollections\"in i&&i.featureCollections?e.buildLegendElementsForFeatureCollections(i.featureCollections):\"renderer\"in i&&i.renderer?e.buildLegendElementsForRenderer(i.renderer):\"url\"in i&&i.url?e.buildLegendElementsForTools():e.children.forEach((e=>this._constructLegendElements(e)))}};e([o({type:c})],u.prototype,\"activeLayerInfos\",void 0),e([o()],u.prototype,\"basemapLegendVisible\",void 0),e([o()],u.prototype,\"groundLegendVisible\",void 0),e([o()],u.prototype,\"hideLayersNotInCurrentView\",void 0),e([o()],u.prototype,\"keepCacheOnDestroy\",void 0),e([o()],u.prototype,\"respectLayerVisibility\",void 0),e([o()],u.prototype,\"layerInfos\",void 0),e([o({readOnly:!0})],u.prototype,\"state\",null),e([o()],u.prototype,\"view\",void 0),u=e([l(\"esri.widgets.Legend.LegendViewModel\")],u);var I=u;export{I as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{generateFillAttributes as e,generateStrokeAttributes as a,renderDef as r,renderShape as l,getBoundingBox as t,computeBBox as s,getTransformMatrix as i}from\"../../../../symbols/support/svgUtils.js\";import{classes as o}from\"../../../support/widgetUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{tsx as n}from\"../../../support/jsxFactory.js\";const d=\"http://www.w3.org/2000/svg\",m={diamondContainer:\"esri-relationship-ramp--diamond__container\",diamondLeftCol:\"esri-relationship-ramp--diamond__left-column\",diamondRightCol:\"esri-relationship-ramp--diamond__right-column\",diamondMidCol:\"esri-relationship-ramp--diamond__middle-column\",diamondMidColLabel:\"esri-relationship-ramp--diamond__middle-column--label\",diamondMidColRamp:\"esri-relationship-ramp--diamond__middle-column--ramp\",squareTable:\"esri-relationship-ramp--square__table\",squareTableRow:\"esri-relationship-ramp--square__table-row\",squareTableCell:\"esri-relationship-ramp--square__table-cell\",squareTableLabel:\"esri-relationship-ramp--square__table-label\",squareTableLabelLeftBottom:\"esri-relationship-ramp--square__table-label--left-bottom\",squareTableLabelRightBottom:\"esri-relationship-ramp--square__table-label--right-bottom\",squareTableLabelLeftTop:\"esri-relationship-ramp--square__table-label--left-top\",squareTableLabelRightTop:\"esri-relationship-ramp--square__table-label--right-top\"};function u(e,a,r){const{focus:l,labels:t}=e,s=!!l,i=p(e,a,r);return s?n(\"div\",{class:m.diamondContainer},n(\"div\",{class:m.diamondLeftCol},t.left),n(\"div\",{class:m.diamondMidCol},n(\"div\",{class:m.diamondMidColLabel},t.top),i,n(\"div\",{class:m.diamondMidColLabel},t.bottom)),n(\"div\",{class:m.diamondRightCol},t.right)):n(\"div\",{class:m.squareTable},n(\"div\",{class:m.squareTableRow},n(\"div\",{class:o(m.squareTableCell,m.squareTableLabel,m.squareTableLabelRightBottom)},t.left),n(\"div\",{class:m.squareTableCell}),n(\"div\",{class:o(m.squareTableCell,m.squareTableLabel,m.squareTableLabelLeftBottom)},t.top)),n(\"div\",{class:m.squareTableRow},n(\"div\",{class:m.squareTableCell}),i,n(\"div\",{class:m.squareTableCell})),n(\"div\",{class:m.squareTableRow},n(\"div\",{class:o(m.squareTableCell,m.squareTableLabel,m.squareTableLabelRightTop)},t.bottom),n(\"div\",{class:m.squareTableCell}),n(\"div\",{class:o(m.squareTableCell,m.squareTableLabel,m.squareTableLabelLeftTop)},t.right)))}function b(e,a,r){const l=`${r}_arrowStart`,t=`${r}_arrowEnd`,s=\"left\"===e,i={markerStart:null,markerEnd:null};switch(a){case\"HL\":s?i.markerStart=`url(#${t})`:i.markerEnd=`url(#${l})`;break;case\"LL\":i.markerStart=`url(#${t})`;break;case\"LH\":s?i.markerEnd=`url(#${l})`:i.markerStart=`url(#${t})`;break;default:i.markerEnd=`url(#${l})`}return i}function p(o,u,p,c=60){const{focus:h,numClasses:q,colors:k,rotation:f}=o,T=!!h,_=Math.sqrt(c**2+c**2)+(T?0:5);let L=null;null!=p&&(L=`opacity: ${p}`);const g=[],C=[],v=[],w=(c||75)/q;for(let s=0;s<q;s++){const i=s*w;for(let o=0;o<q;o++){const n=o*w,d=e(k[s][o]),m=a(null),u={type:\"rect\",x:n,y:i,width:w,height:w};g.push(r(d)),C.push(l(u,d.fill,m,null)),v.push(t(u))}}const y=10,x=15,R=15,$=10;let E=null;T||(E=\"margin: -15px -15px -18px -15px\");const M=b(\"left\",h,u),S=b(\"right\",h,u),j=s(v),B=i(j,_,_,0,!1,f,!1),H=i(j,_,_,0,!1,T?-45:null,!1);return n(\"div\",{style:L,class:T?m.diamondMidColRamp:m.squareTableCell},n(\"svg\",{xmlns:d,width:_,height:_,style:E},n(\"defs\",null,n(\"marker\",{id:`${u}_arrowStart`,markerWidth:\"10\",markerHeight:\"10\",refX:\"5\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},n(\"polyline\",{points:\"0,0 5,5 0,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),n(\"marker\",{id:`${u}_arrowEnd`,markerWidth:\"10\",markerHeight:\"10\",refX:\"0\",refY:\"5\",markerUnits:\"strokeWidth\",orient:\"auto\"},n(\"polyline\",{points:\"5,0 0,5 5,10\",fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\"})),g),n(\"g\",{transform:B},C),n(\"g\",{transform:H},n(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":M.markerStart,\"marker-end\":M.markerEnd,x1:-y,y1:c-x,x2:-y,y2:x}),n(\"line\",{fill:\"none\",stroke:\"#555555\",\"stroke-width\":\"1\",\"marker-start\":S.markerStart,\"marker-end\":S.markerEnd,x1:R,y1:c+$,x2:c-R,y2:c+$}))))}export{u as renderRelationshipRamp};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{pt2px as e}from\"../../../../core/screenUtils.js\";import\"../../../../libs/maquette/projection.js\";import{createProjector as t}from\"../../../../libs/maquette/projector.js\";import{renderColorRampPreviewHTML as o}from\"../../../../symbols/support/symbolUtils.js\";import\"../../../support/widgetUtils.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import{tsx as i}from\"../../../support/jsxFactory.js\";const l=t(),r=10,n=20,s=10,a=20,c={univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",colorRamp:\"esri-legend__color-ramp\"};function p(e=\"vertical\"){const t=\"stroke:rgb(200, 200, 200);stroke-width:1\";return\"vertical\"===e?i(\"svg\",{height:\"4\",width:\"10\"},i(\"line\",{x1:\"0\",y1:\"2\",x2:\"10\",y2:\"2\",style:t})):i(\"svg\",{height:\"10\",width:\"10\"},i(\"line\",{x1:\"5\",y1:\"0\",x2:\"5\",y2:\"10\",style:t}))}function f(e,t=\"vertical\"){const o=document.createElement(\"div\");return o.style.height=`${n}px`,o.className=c.univariateAboveAndBelowSymbol,null!=e&&(o.style.opacity=e.toString()),l.append(o,p.bind(null,t)),o}function m(t,o,i=\"vertical\",l){t.infos.forEach(((t,r)=>{if(l&&2===r)t.preview=f(o,i);else{const o=e(t.size)+(\"horizontal\"===i?a:s),l=\"div\"===t.preview.tagName.toLowerCase(),r=l?t.preview:document.createElement(\"div\");r.className=c.univariateAboveAndBelowSymbol,\"horizontal\"===i?r.style.width=`${o}px`:r.style.height=`${o}px`,l||r.appendChild(t.preview),t.preview=r}}))}function u(t,o=\"classic\"){const i=t.infos;return\"classic\"===o?(e(i[0].size)+s)/2:(e(i[0].size)-e(i[i.length-1].size))/2}function v(e,t){if(!e)return null;const i=e.infos.map((e=>e.color)),l=o(\"full\"===t.type?i:\"above\"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment});return l.className=c.colorRamp,null!=t.opacity&&(l.style.opacity=t.opacity.toString()),l}function h(t,o,i,l=\"vertical\"){let c=0;const p=t.infos,f=Math.floor(p.length/2),m=\"full\"===o||\"above\"===o?0:f,u=\"full\"===o||\"below\"===o?p.length-1:f;for(let v=m;v<=u;v++)if(i&&v===f)c+=\"horizontal\"===l?r:n;else{c+=e(p[v].size)+(\"horizontal\"===l?a:s)}return Math.round(c)}function y(t,o,i,l=\"vertical\"){const c=h(t,o,i,l),p=t.infos,f=Math.floor(p.length/2),m=\"full\"===o||\"above\"===o?0:f,u=\"full\"===o||\"below\"===o?p.length-1:f,v=\"full\"===o?p[m].size+p[u].size:\"above\"===o?p[m].size:p[u].size,y=i?\"vertical\"===l?n:r:0,d=\"vertical\"===l?s*(\"full\"===o?2:1):a*(\"full\"===o?2:1);return Math.round(c-(e(v)/2+y/2+d/2))}function d(e,t,o=\"vertical\"){const i=e.infos;let l=i.filter((({type:e})=>\"size-ramp\"===e))[0],r=i.filter((({type:e})=>\"color-ramp\"===e))[0];var n;(l&&(l={...l},l.infos=[...l.infos]),r&&(r={...r},r.infos=[...r.infos]),m(l,t,o,!0),\"horizontal\"===o)&&(l.infos.reverse(),null==(n=r)||n.infos.reverse());return{sizeRampElement:l,colorRampElement:r}}function g(e,t=\"vertical\"){const o=e.infos;let i=o.filter((({type:e})=>\"size-ramp\"===e))[0],l=o.filter((({type:e})=>\"color-ramp\"===e))[0];var r;(i&&(i={...i},i.infos=[...i.infos]),l&&(l={...l},l.infos=[...l.infos]),m(i,null,t,!1),\"horizontal\"===t)&&(i.infos.reverse(),null==(r=l)||r.infos.reverse());return{sizeRampElement:i,colorRampElement:l}}export{d as getUnivariateAboveAndBelowRampElements,u as getUnivariateColorRampMargin,v as getUnivariateColorRampPreview,y as getUnivariateColorRampSize,g as getUnivariateColorSizeRampElements,h as getUnivariateSizeRampSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport\"../../../intl.js\";import{substitute as e}from\"../../../intl/substitute.js\";function n(e,n){return n}function t(e){const n=this;e.appendChild(n)}function r(t,r,i){if(!r)return;if(\"string\"==typeof r||\"number\"==typeof r)return r;if(\"value\"in r||\"unit\"in r)return e(t.dotValue,r);if(\"colorName\"in r||\"bandName\"in r)return t[r.colorName]+\": \"+(t[r.bandName]||r.bandName);if(\"showCount\"in r)return r.showCount?t.clusterCountTitle:null;let l=null;return n(r,i)?l=r.ratioPercentTotal?\"showRatioPercentTotal\":r.ratioPercent?\"showRatioPercent\":r.ratio?\"showRatio\":r.normField?\"showNormField\":r.field?\"showField\":null:o(r,i)&&(l=r.normField?\"showNormField\":r.normByPct?\"showNormPct\":r.field?\"showField\":null),l?e(\"showField\"===l?\"{field}\":t[l],{field:r.field,normField:r.normField}):null}function o(e,n){return!n}function i(e,n){return!!(n&&\"Stretched\"===n&&e.version>=10.3&&\"esri.layers.ImageryLayer\"===e.declaredClass)}export{t as attachToNode,r as getTitle,i as isImageryStretchedLegend,o as isRendererTitle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import t from\"../../../core/Handles.js\";import{pt2px as s}from\"../../../core/screenUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import{renderSVG as a}from\"../../../symbols/support/svgUtils.js\";import o from\"../../Widget.js\";import{renderRelationshipRamp as l}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as n,getUnivariateSizeRampSize as c,getUnivariateColorRampSize as d,getUnivariateColorRampPreview as p,getUnivariateColorRampMargin as m,getUnivariateColorSizeRampElements as h}from\"./support/univariateUtils.js\";import{getTitle as y,attachToNode as g,isImageryStretchedLegend as _}from\"../support/styleUtils.js\";import{Heading as v}from\"../../support/Heading.js\";import{accessibleHandler as u}from\"../../support/decorators/accessibleHandler.js\";import{messageBundle as b}from\"../../support/decorators/messageBundle.js\";import{tsx as f}from\"../../support/jsxFactory.js\";import\"../../support/widgetUtils.js\";import{substitute as w}from\"../../../intl/substitute.js\";const L={activated:\"esri-legend--card__carousel-indicator--activated\",base:\"esri-legend--card\",stacked:\"esri-legend--stacked\",carouselTitle:\"esri-legend--card__carousel-title\",indicator:\"esri-legend--card__carousel-indicator\",intervalSeparator:\"esri-legend--card__interval-separator\",imageryLayerStretchedImage:\"esri-legend--card__imagery-layer-image--stretched\",imageLabel:\"esri-legend--card__image-label\",layerCaption:\"esri-legend--card__layer-caption\",labelElement:\"esri-legend--card__label-element\",layerRow:\"esri-legend--card__layer-row\",labelCell:\"esri-legend--card__label-cell\",message:\"esri-legend--card__message\",rampLabel:\"esri-legend--card__ramp-label\",section:\"esri-legend--card__section\",relationshipSection:\"esri-legend--card__relationship-section\",serviceCaptionText:\"esri-legend--card__service-caption-text\",serviceContent:\"esri-legend--card__service-content\",service:\"esri-legend--card__service\",groupLayer:\"esri-legend--card__group-layer\",groupLayerChild:\"esri-legend--card__group-layer-child\",symbol:\"esri-legend--card__symbol\",sizeRampRow:\"esri-legend--card__size-ramp-row\",symbolRow:\"esri-legend--card__symbol-row\",symbolCell:\"esri-legend--card__symbol-cell\",indicatorContainer:\"esri-legend--card__carousel-indicator-container\",intervalSeparatorsContainer:\"esri-legend--card__interval-separators-container\",relationshipLabelContainer:\"esri-legend--card__relationship-label-container\",labelContainer:\"esri-legend--card__label-container\",serviceCaptionContainer:\"esri-legend--card__service-caption-container\",symbolContainer:\"esri-legend--card__symbol-container\",sizeRampContainer:\"esri-legend--card__size-ramp-container\",sizeRampPreview:\"esri-legend--card__size-ramp-preview\",rampContainer:\"esri-legend__ramps\",sizeRampHorizontal:\"esri-legend__size-ramp--horizontal\",rampLabelsContainer:\"esri-legend__ramp-labels\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",univariateAboveAndBelowColorRamp:\"esri-univariate-above-and-below-ramp__color--card\",hidden:\"esri-hidden\"},C=25,x=25,S=768,z=100,R=\"#ddd\",$=window.devicePixelRatio;function I(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1),i=s.resource&&s.resource.primitive;return\"circle\"===i||\"cross\"===i||\"kite\"===i||\"sphere\"===i||\"cube\"===i||\"diamond\"===i}{const t=e.style;return\"circle\"===t||\"diamond\"===t||\"cross\"===t}}}function k(e){if(e){if(e.type.indexOf(\"3d\")>-1){const t=e.symbolLayers&&e.symbolLayers.length;if(!t)return;const s=e.symbolLayers.getItemAt(t-1).get(\"resource.primitive\");return\"triangle\"===s||\"cone\"===s||\"tetrahedron\"===s}return\"triangle\"===e.style}}let N=class extends o{constructor(e,s){super(e,s),this._handles=new t,this._hasIndicators=!1,this._selectedSectionName=null,this._sectionNames=[],this._sectionMap=new Map,this.activeLayerInfos=null,this.headingLevel=3,this.layout=\"stack\",this.messages=null,this.messagesCommon=null,this.type=\"card\",this.view=null}initialize(){this.own([this.watch(\"activeLayerInfos\",(e=>{this._handles.removeAll(),this._watchForSectionChanges(e)}))])}destroy(){this._handles.destroy(),this._handles=null}render(){this._hasIndicators=\"auto\"===this.layout&&this.view.container.clientWidth<=S||\"stack\"===this.layout;const e=this.activeLayerInfos,t=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));this._hasIndicators?this._selectedSectionName&&-1!==this._sectionNames.indexOf(this._selectedSectionName)||(this._selectedSectionName=this._sectionNames&&this._sectionNames[0]):this._selectedSectionName=null;const s=this._sectionNames.length,i=this._sectionNames.map(((e,t)=>{const i=w(this.messagesCommon.pagination.pageText,{index:t+1,total:s});return f(\"div\",{key:e,role:\"tab\",id:e,\"aria-label\":i,\"aria-controls\":`${e}-panel`,\"aria-selected\":(this._selectedSectionName===e).toString(),tabIndex:this._selectedSectionName===e?0:-1,title:i,onclick:this._selectSection,onkeydown:this._focusSection,bind:this,class:this.classes(L.indicator,{[L.activated]:this._selectedSectionName===e}),\"data-section-name\":e})})),r=this._hasIndicators&&s>1?f(\"div\",{class:L.indicatorContainer,key:\"carousel-navigation\",role:\"tablist\"},i):null,a=this._hasIndicators?this._sectionMap.get(this._selectedSectionName):t&&t.length?t:null,o={[L.stacked]:this._hasIndicators};return f(\"div\",{class:this.classes(L.base,o)},a||f(\"div\",{class:L.message},this.messages.noLegend),r)}_selectSection(e){const t=e.target.getAttribute(\"data-section-name\");t&&(this._selectedSectionName=t)}_focusSection(e){switch(e.key){case\"ArrowLeft\":case\"ArrowRight\":this._switchSectionOnArrowPress(e);break;case\"Enter\":case\" \":this._selectSection(e)}}_switchSectionOnArrowPress(e){const t=e.key,s=\"ArrowLeft\"===t?-1:1,i=e.target.getAttribute(\"data-section-name\"),r=this._sectionNames.indexOf(i),a=this._sectionNames;let o=null;-1!==r&&(a[r+s]?o=document.getElementById(a[r+s]):\"ArrowLeft\"===t?o=document.getElementById(a[a.length-1]):\"ArrowRight\"===t&&(o=document.getElementById(a[0])),o&&o.focus())}_watchForSectionChanges(e){if(this._generateSectionNames(),e){e.forEach((e=>{const t=`activeLayerInfo-${e.layer.uid}-version-change`;this._handles.remove(t),this._watchForSectionChanges(e.children),this._handles.add(e.watch(\"version\",(()=>this._generateSectionNames())),t)}));const t=\"activeLayerInfos-collection-change\";this._handles.remove(t),this._handles.add(e.on(\"change\",(()=>this._watchForSectionChanges(e))),t)}}_generateSectionNames(){this._sectionNames.length=0,this._selectedSectionName=null,this.activeLayerInfos&&this.activeLayerInfos.forEach(this._generateSectionNamesForActiveLayerInfo,this)}_getSectionName(e,t,s){return`${this.id}${e.uid}-type-${t.type}-${s}`}_generateSectionNamesForActiveLayerInfo(e){e.children.forEach(this._generateSectionNamesForActiveLayerInfo,this),e.legendElements&&e.legendElements.forEach(((t,s)=>{this._sectionNames.push(this._getSectionName(e.layer,t,s))}))}_renderLegendForLayer(e){if(!e.ready)return null;if(e.children.length){const t=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return f(\"div\",{key:e.layer.uid,class:this.classes(L.service,L.groupLayer)},f(\"div\",{class:L.serviceCaptionContainer},e.title),t)}{const t=e.legendElements;if(t&&!t.length)return null;const s=t.some((e=>\"relationship-ramp\"===e.type)),i=t.map(((t,i)=>this._renderLegendForElement(t,e,i,s))).filter((e=>!!e));if(!i.length)return null;const r={[L.groupLayerChild]:!!e.parent};return f(\"div\",{key:e.layer.uid,class:this.classes(L.service,r)},f(\"div\",{class:L.serviceCaptionContainer},f(\"div\",{class:L.serviceCaptionText},e.title)),f(\"div\",{class:L.serviceContent},i))}}_renderLegendForElement(e,t,s,i=!1){const r=\"color-ramp\"===e.type,a=\"opacity-ramp\"===e.type,o=\"size-ramp\"===e.type,n=t.layer;let c=null;if(\"string\"==typeof e.title)c=e.title;else if(e.title){const t=e.title,s=y(this.messages,t,r||a);c=t.title?`${t.title} (${s})`:s}const d=this._getSectionName(n,e,s),p=this._hasIndicators?f(\"div\",null,f(v,{level:this.headingLevel,class:L.carouselTitle},t.title),f(v,{level:this.headingLevel+1,class:L.layerCaption},c)):c?f(v,{level:this.headingLevel,class:L.layerCaption},c):null;let m=null;if(\"symbol-table\"===e.type){const s=e.infos.map(((s,i)=>this._renderLegendForElementInfo(s,t,e.legendType,i))).filter((e=>!!e));if(s.length){const e=s[0].properties.classes&&s[0].properties.classes[L.symbolRow],t={[L.labelContainer]:!e&&!i,[L.relationshipLabelContainer]:i};m=f(\"div\",{class:this.classes(t)},s)}}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type?m=this._renderLegendForRamp(e,n.opacity):o?m=this._renderSizeRamp(e,n.opacity):\"relationship-ramp\"===e.type?m=l(e,this.id,n.opacity):\"univariate-above-and-below-ramp\"===e.type?m=this._renderUnivariateAboveAndBelowRamp(e,n.opacity):\"univariate-color-size-ramp\"===e.type&&(m=this._renderUnivariateColorSizeRamp(e,n.opacity));if(!m)return null;const h=f(\"div\",{key:d,class:L.section,id:`${d}-panel`,role:\"tabpanel\",\"aria-labelledby\":d,tabIndex:0},[p,m]);return this._sectionMap.set(d,h),h}_renderUnivariateAboveAndBelowRamp(e,t){const{sizeRampElement:s,colorRampElement:i}=n(e,t,\"horizontal\"),r=c(s,\"full\",!0,\"horizontal\"),a=d(s,\"above\",!0,\"horizontal\"),o=d(s,\"below\",!0,\"horizontal\"),l=12,h=p(i,{width:a,height:l,rampAlignment:\"horizontal\",opacity:t,type:\"above\"}),y=p(i,{width:o,height:l,rampAlignment:\"horizontal\",opacity:t,type:\"below\"}),_=m(s,\"card\"),v=s.infos.map((e=>e.label)),u=v.length-1,b=v.map(((e,t)=>0===t||t===u?f(\"div\",{key:t},e):null)),w={display:\"flex\",flexDirection:\"column\"},C={display:\"flex\",flexDirection:\"row\"},x={marginTop:\"3px\",marginLeft:`${_}px`,display:\"flex\"},S={width:`${r}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return f(\"div\",{class:L.layerRow,key:\"size-ramp-preview\",styles:w},f(\"div\",{class:this.classes(L.symbolContainer,L.sizeRampHorizontal),styles:C},s.infos.map(((e,t)=>f(\"div\",{key:t,class:L.symbol,bind:e.preview,afterCreate:g})))),h?f(\"div\",{class:L.univariateAboveAndBelowColorRamp,styles:x,key:\"color-ramp-preview\"},f(\"div\",{bind:h,afterCreate:g}),f(\"div\",{bind:y,afterCreate:g})):null,f(\"div\",{class:L.layerInfo},f(\"div\",{class:L.rampLabelsContainer,styles:S},b)))}_renderUnivariateColorSizeRamp(e,t){const{sizeRampElement:s,colorRampElement:i}=h(e,\"horizontal\"),r=c(s,\"full\",!1,\"horizontal\"),a=d(s,\"full\",!1,\"horizontal\"),o=p(i,{width:a,height:12,rampAlignment:\"horizontal\",opacity:t,type:\"full\"}),l=m(s,\"card\"),n=s.infos.length-1,y=s.infos.map(((e,t)=>0===t||t===n?f(\"div\",{key:t},e.label):null)),_={display:\"flex\",flexDirection:\"column\"},v={display:\"flex\",flexDirection:\"row\"},u={marginTop:\"3px\",marginLeft:`${l}px`,display:\"flex\"},b={width:`${r}px`,display:\"flex\",flexDirection:\"row\",justifyContent:\"space-between\"};return f(\"div\",{class:L.layerRow,key:\"size-ramp-preview\",styles:_},f(\"div\",{class:this.classes(L.symbolContainer,L.sizeRampHorizontal),styles:v},s.infos.map(((e,t)=>f(\"div\",{key:t,class:L.symbol,bind:e.preview,afterCreate:g})))),f(\"div\",{class:L.univariateAboveAndBelowColorRamp,styles:u,key:\"color-ramp-preview\"},f(\"div\",{bind:o,afterCreate:g})),f(\"div\",{class:L.layerInfo},f(\"div\",{class:L.rampLabelsContainer,styles:b},y)))}_renderLegendForElementInfo(e,t,s,i){const r=t.layer;if(e.type)return this._renderLegendForElement(e,t,i);const a=_(r,s);if(e.preview){var o,l;if(!e.symbol||-1===e.symbol.type.indexOf(\"simple-fill\")){if(!e.label)return f(\"div\",{key:i,bind:e.preview,afterCreate:g});const t={[L.symbolCell]:this._hasIndicators};return f(\"div\",{key:i,class:this.classes(L.layerRow,{[L.symbolRow]:this._hasIndicators})},f(\"div\",{class:this.classes(t),bind:e.preview,afterCreate:g}),f(\"div\",{class:this.classes(L.imageLabel,{[L.labelCell]:this._hasIndicators})},y(this.messages,e.label,!1)||\"\"))}let t=255,s=255,a=255,n=0,c=255,d=255,p=255,m=0;const h=e.symbol.color&&e.symbol.color.a,_=e.symbol.outline&&e.symbol.outline.color&&e.symbol.outline.color.a;h&&(t=e.symbol.color.r,s=e.symbol.color.g,a=e.symbol.color.b,n=e.symbol.color.a*r.opacity),_&&(c=e.symbol.outline.color.r,d=e.symbol.outline.color.g,p=e.symbol.outline.color.b,m=e.symbol.outline.color.a*r.opacity);const v=null==(o=null==(l=e.symbol.color)?void 0:l.isBright)||o,u=v?\"rgba(255, 255, 255, .6)\":\"rgba(0, 0, 0, .6)\",b={background:h?`rgba(${t}, ${s}, ${a}, ${n})`:\"none\",color:v?\"black\":\"white\",textShadow:`-1px -1px 0 ${u},\\n                                              1px -1px 0 ${u},\\n                                              -1px 1px 0 ${u},\\n                                              1px 1px 0 ${u}`,border:_?`1px solid rgba(${c}, ${d}, ${p}, ${m})`:\"none\"};return f(\"div\",{key:i,class:L.layerRow},f(\"div\",{class:L.labelElement,styles:b},\" \",e.label,\" \"))}if(e.src){const t=this._renderImage(e,r,a);return f(\"div\",{key:i,class:L.layerRow},t,f(\"div\",{class:L.imageLabel},e.label||\"\"))}}_renderImage(e,t,s){const{label:i,src:r,opacity:a}=e,o={[L.imageryLayerStretchedImage]:s,[L.symbol]:!s},l={opacity:`${null!=a?a:t.opacity}`};return f(\"img\",{alt:y(this.messages,i,!1),src:r,border:0,width:e.width,height:e.height,class:this.classes(o),styles:l})}_renderSizeRampLines(e){const t=e.infos,i=t[0],r=t[t.length-1],a=i.symbol,o=this._hasIndicators,l=s(i.size+i.outlineSize)*$,n=s(r.size+r.outlineSize)*$,c=o?l:l+50*$,d=o?l/2+50*$:l,p=k(a),m=I(a),h=document.createElement(\"canvas\");h.width=c,h.height=d,h.style.width=h.width/$+\"px\",h.style.height=h.height/$+\"px\";const y=h.getContext(\"2d\");if(o){y.beginPath();const e=0,t=0,s=c/2-n/2,i=d;y.moveTo(e,t),y.lineTo(s,i);const r=c,a=0,o=c/2+n/2,l=d;y.moveTo(r,a),y.lineTo(o,l)}else{y.beginPath();const e=0,t=d/2-n/2,s=c,i=0;y.moveTo(e,t),y.lineTo(s,i);const r=0,a=d/2+n/2,o=c,l=d;y.moveTo(r,a),y.lineTo(o,l)}return y.strokeStyle=R,y.stroke(),f(\"div\",{bind:h,afterCreate:g,styles:o?{display:\"flex\",marginTop:`-${p?0:m?l/2:0}px`,marginBottom:`-${p?n:m?n/2:0}px`}:{display:\"flex\",marginRight:`-${p?0:m?l/2:0}px`,marginLeft:`-${p?0:m?n/2:0}px`}})}_renderSizeRamp(e,t){const s=e.infos,i=s[0].label,r=s[s.length-1].label;let a=s[0].preview,o=s[s.length-1].preview;const l=this._hasIndicators,n={\"flex-direction\":l?\"column\":\"row-reverse\"};a&&(a=a.cloneNode(!0),a.style.display=\"flex\"),o&&(o=o.cloneNode(!0),o.style.display=\"flex\");const c={opacity:null!=t?`${t}`:\"\"};return f(\"div\",{class:this.classes(L.layerRow,{[L.sizeRampRow]:l})},f(\"div\",{class:L.rampLabel},l?i:r),f(\"div\",{class:L.sizeRampContainer,styles:n},f(\"div\",{bind:a,afterCreate:g,class:L.sizeRampPreview,styles:c}),this._renderSizeRampLines(e),f(\"div\",{bind:o,afterCreate:g,class:L.sizeRampContainer,styles:c})),f(\"div\",{class:L.rampLabel},l?r:i))}_renderLegendForRamp(e,t){const s=e.infos,i=\"heatmap-ramp\"===e.type,r=s.length-1,o=x,l=r>2&&!i?C*r:z,n=l+20,c=10,d=s.slice(0).reverse();d.forEach(((e,t)=>{e.offset=i?e.ratio:t/r}));const p=d.length-1,m=d.length%2!=0&&d[d.length/2|0],h=m&&f(\"div\",{class:L.intervalSeparatorsContainer},f(\"div\",{class:L.intervalSeparator},\"|\"),f(\"div\",{class:L.rampLabel},m.label)),y=s[s.length-1].label,g=s[0].label;let _=null;null!=t&&(_=`opacity: ${t}`);const v=[[{shape:{type:\"path\",path:`M0 ${o/2} L${c} 0 L${c} ${o} Z`},fill:d[0].color,stroke:{width:0}},{shape:{type:\"rect\",x:c,y:0,width:l,height:o},fill:{type:\"linear\",x1:c,y1:0,x2:l+c,y2:0,colors:d},stroke:{width:0}},{shape:{type:\"path\",path:`M${l+c} 0 L${n} ${o/2} L${l+c} ${o} Z`},fill:d[p].color,stroke:{width:0}}]],u=a(v,n,o),{messages:b}=this;return f(\"div\",{class:L.layerRow},f(\"div\",{class:L.rampLabel},i?b[y]:y),f(\"div\",{class:L.symbolContainer},f(\"div\",{style:_},u),h),f(\"div\",{class:L.rampLabel},i?b[g]:g))}};e([i()],N.prototype,\"activeLayerInfos\",void 0),e([i()],N.prototype,\"headingLevel\",void 0),e([i()],N.prototype,\"layout\",void 0),e([i(),b(\"esri/widgets/Legend/t9n/Legend\")],N.prototype,\"messages\",void 0),e([i(),b(\"esri/t9n/common\")],N.prototype,\"messagesCommon\",void 0),e([i({readOnly:!0})],N.prototype,\"type\",void 0),e([i()],N.prototype,\"view\",void 0),e([u()],N.prototype,\"_selectSection\",null),N=e([r(\"esri.widgets.Legend.styles.Card\")],N);var A=N;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../intl.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/Logger.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import a from\"../../Widget.js\";import{renderRelationshipRamp as s}from\"./support/relationshipUtils.js\";import{getUnivariateAboveAndBelowRampElements as i,getUnivariateColorRampSize as t,getUnivariateColorRampPreview as n,getUnivariateColorRampMargin as o,getUnivariateColorSizeRampElements as p}from\"./support/univariateUtils.js\";import{getTitle as d,isRendererTitle as y,attachToNode as m,isImageryStretchedLegend as c}from\"../support/styleUtils.js\";import{Heading as g}from\"../../support/Heading.js\";import\"../../support/widgetUtils.js\";import{messageBundle as v}from\"../../support/decorators/messageBundle.js\";import{tsx as h}from\"../../support/jsxFactory.js\";import{formatNumber as b}from\"../../../intl/number.js\";const _={service:\"esri-legend__service\",label:\"esri-legend__service-label\",layer:\"esri-legend__layer\",groupLayer:\"esri-legend__group-layer\",groupLayerChild:\"esri-legend__group-layer-child\",layerTable:\"esri-legend__layer-table\",layerTableSizeRamp:\"esri-legend__layer-table--size-ramp\",layerChildTable:\"esri-legend__layer-child-table\",layerCaption:\"esri-legend__layer-caption\",layerBody:\"esri-legend__layer-body\",layerRow:\"esri-legend__layer-row\",layerCell:\"esri-legend__layer-cell\",layerInfo:\"esri-legend__layer-cell esri-legend__layer-cell--info\",imageryLayerStretchedImage:\"esri-legend__imagery-layer-image--stretched\",imageryLayerCellStretched:\"esri-legend__imagery-layer-cell--stretched\",imageryLayerInfoStretched:\"esri-legend__imagery-layer-info--stretched\",symbolContainer:\"esri-legend__layer-cell esri-legend__layer-cell--symbols\",symbol:\"esri-legend__symbol\",rampContainer:\"esri-legend__ramps\",sizeRamp:\"esri-legend__size-ramp\",colorRamp:\"esri-legend__color-ramp\",opacityRamp:\"esri-legend__opacity-ramp\",borderlessRamp:\"esri-legend__borderless-ramp\",rampTick:\"esri-legend__ramp-tick\",rampFirstTick:\"esri-legend__ramp-tick-first\",rampLastTick:\"esri-legend__ramp-tick-last\",rampLabelsContainer:\"esri-legend__ramp-labels\",rampLabel:\"esri-legend__ramp-label\",univariateAboveAndBelowSymbol:\"esri-univariate-above-and-below-ramp__symbol\",univariateAboveAndBelowLabel:\"esri-univariate-above-and-below-ramp__label\",message:\"esri-legend__message\",header:\"esri-widget__heading\",hidden:\"esri-hidden\"},u=\"esri-legend__\",f=24,L={display:\"flex\",alignItems:\"flex-start\"},w={marginLeft:\"3px\"},C={display:\"table-cell\",verticalAlign:\"middle\"};let R=class extends a{constructor(e,r){super(e,r),this.activeLayerInfos=null,this.headingLevel=3,this.messages=null,this.type=\"classic\"}render(){const e=this.activeLayerInfos,r=e&&e.toArray().map((e=>this._renderLegendForLayer(e))).filter((e=>!!e));return h(\"div\",null,r&&r.length?r:h(\"div\",{class:_.message},this.messages.noLegend))}_renderLegendForLayer(e){if(!e.ready)return null;const r=!!e.children.length,l=`${u}${e.layer.uid}-version-${e.version}`,a=e.title?g({level:this.headingLevel,class:this.classes(_.header,_.label)},e.title):null;if(r){const r=e.children.map((e=>this._renderLegendForLayer(e))).toArray();return h(\"div\",{key:l,class:this.classes(_.service,_.groupLayer)},a,r)}{const r=e.legendElements;if(r&&!r.length)return null;const s=r.map((r=>this._renderLegendForElement(r,e.layer))).filter((e=>!!e));if(!s.length)return null;const i={[_.groupLayerChild]:!!e.parent};return h(\"div\",{key:l,class:this.classes(_.service,i),tabIndex:0},a,h(\"div\",{class:_.layer},s))}}_renderLegendForElement(e,r,l){const a=\"color-ramp\"===e.type,i=\"opacity-ramp\"===e.type,t=\"size-ramp\"===e.type;let n=null;if(\"symbol-table\"===e.type||t){const l=e.infos.map((l=>this._renderLegendForElementInfo(l,r,t,e.legendType))).filter((e=>!!e));l.length&&(n=h(\"div\",{class:_.layerBody},l))}else\"color-ramp\"===e.type||\"opacity-ramp\"===e.type||\"heatmap-ramp\"===e.type||\"stretch-ramp\"===e.type?n=this._renderLegendForRamp(e,r.opacity):\"relationship-ramp\"===e.type?n=s(e,this.id,r.opacity):\"univariate-above-and-below-ramp\"===e.type?n=this._renderUnivariateAboveAndBelowRamp(e,r.opacity):\"univariate-color-size-ramp\"===e.type&&(n=this._renderUnivariateColorSizeRamp(e,r.opacity));if(!n)return null;const o=e.title;let p=null;if(\"string\"==typeof o)p=o;else if(o){const e=d(this.messages,o,a||i);p=y(o,a||i)&&o.title?`${o.title} (${e})`:e}const m=l?_.layerChildTable:_.layerTable,c=p?h(\"div\",{class:_.layerCaption},p):null,g={[_.layerTableSizeRamp]:t||!l};return h(\"div\",{class:this.classes(m,g)},c,n)}_renderUnivariateAboveAndBelowRamp(e,r){const{sizeRampElement:l,colorRampElement:a}=i(e,r),s=t(l,\"above\",!0),p=t(l,\"below\",!0),d=12,y=n(a,{width:d,height:s,rampAlignment:\"vertical\",opacity:r,type:\"above\"}),c=n(a,{width:d,height:p,rampAlignment:\"vertical\",opacity:r,type:\"below\"}),g=o(l),v=l.infos.map((e=>e.label)),b=v.map(((e,r)=>{const l=2===r;return 0===r?h(\"div\",{key:r,class:e?y?_.univariateAboveAndBelowLabel:_.rampLabel:null},e):l?h(\"div\",null):null})),u=v.length-1,f=Math.floor(v.length/2),R=v.map(((e,r)=>r===f||r===u?h(\"div\",{key:r,class:e?y?_.univariateAboveAndBelowLabel:_.rampLabel:null},e):null)),A={display:\"table-cell\",verticalAlign:\"middle\"},S={marginTop:`${g}px`},I={height:`${s}px`},j={height:`${p}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:_.layerBody},l.infos.map(((e,r)=>h(\"div\",{class:this.classes(_.layerRow,_.sizeRamp)},h(\"div\",{class:_.symbol,styles:A,bind:e.preview,afterCreate:m}),y||r%2!=0?null:h(\"div\",{class:_.layerInfo},v[r]))))),y?h(\"div\",{styles:S,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:_.rampContainer,bind:y,afterCreate:m})),h(\"div\",{styles:C},h(\"div\",{class:_.rampLabelsContainer,styles:I},b))),h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:_.rampContainer,bind:c,afterCreate:m})),h(\"div\",{styles:C},h(\"div\",{class:_.rampLabelsContainer,styles:j},R)))):null)}_renderUnivariateColorSizeRamp(e,r){const{sizeRampElement:l,colorRampElement:a}=p(e),s=o(l),i=12,d=t(l,\"full\",!1),y=n(a,{width:i,height:d,rampAlignment:\"vertical\",opacity:r,type:\"full\"}),c=l.infos.length-1,g=l.infos.map(((e,r)=>0===r||r===c?h(\"div\",{key:r,class:e.label?a?_.univariateAboveAndBelowLabel:_.rampLabel:null},e.label):null)),v={display:\"table-cell\",verticalAlign:\"middle\"},b={marginTop:`${s}px`},u={height:`${d}px`};return h(\"div\",{key:\"univariate-above-and-below-ramp-preview\",styles:L},h(\"div\",{class:_.layerBody},l.infos.map((e=>h(\"div\",{class:this.classes(_.layerRow,_.sizeRamp)},h(\"div\",{class:_.symbol,styles:v,bind:e.preview,afterCreate:m}))))),h(\"div\",{styles:b,key:\"color-ramp-preview\"},h(\"div\",{styles:w},h(\"div\",{styles:C},h(\"div\",{class:_.rampContainer,bind:y,afterCreate:m})),h(\"div\",{styles:C},h(\"div\",{class:_.rampLabelsContainer,styles:u},g)))))}_renderLegendForRamp(e,r){const l=e.infos,a=\"opacity-ramp\"===e.type,s=\"heatmap-ramp\"===e.type,i=\"stretch-ramp\"===e.type,t=e.preview,n=a?_.opacityRamp:\"\";t.className=`${_.colorRamp} ${n}`,null!=r&&(t.style.opacity=r.toString());const o=l.map((e=>h(\"div\",{class:e.label?_.rampLabel:null},s?this.messages[e.label]:i?this._getStretchStopLabel(e):e.label))),p={width:`${f}px`},d={height:t.style.height};return h(\"div\",{class:_.layerRow},h(\"div\",{class:_.symbolContainer,styles:p},h(\"div\",{class:_.rampContainer,bind:t,afterCreate:m})),h(\"div\",{class:_.layerInfo},h(\"div\",{class:_.rampLabelsContainer,styles:d},o)))}_getStretchStopLabel(e){return e.label?this.messages[e.label]+\": \"+(\"string\"==typeof e.value?e.value:b(e.value,{style:\"decimal\",notation:e.value.toString().indexOf(\"e\")>-1?\"scientific\":\"standard\"})):\"\"}_renderLegendForElementInfo(e,r,l,a){if(e.type)return this._renderLegendForElement(e,r,!0);let s=null;const i=c(r,a);if(e.preview?s=h(\"div\",{class:_.symbol,bind:e.preview,afterCreate:m}):e.src&&(s=this._renderImage(e,r,i)),!s)return null;const t={[_.imageryLayerInfoStretched]:i},n={[_.imageryLayerInfoStretched]:i,[_.sizeRamp]:!i&&l};return h(\"div\",{class:_.layerRow},h(\"div\",{class:this.classes(_.symbolContainer,n)},s),h(\"div\",{class:this.classes(_.layerInfo,t)},d(this.messages,e.label,!1)||\"\"))}_renderImage(e,r,l){const{label:a,src:s,opacity:i}=e,t={[_.imageryLayerStretchedImage]:l,[_.symbol]:!l},n={opacity:`${null!=i?i:r.opacity}`};return h(\"img\",{alt:d(this.messages,a,!1),src:s,border:0,width:e.width,height:e.height,class:this.classes(t),styles:n})}};e([r()],R.prototype,\"activeLayerInfos\",void 0),e([r()],R.prototype,\"headingLevel\",void 0),e([r(),v(\"esri/widgets/Legend/t9n/Legend\")],R.prototype,\"messages\",void 0),e([r({readOnly:!0})],R.prototype,\"type\",void 0),R=e([l(\"esri.widgets.Legend.styles.Classic\")],R);var A=R;export{A as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.21/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import s from\"../core/Handles.js\";import{on as t,watch as i,init as r}from\"../core/watchUtils.js\";import{aliasOf as o}from\"../core/accessorSupport/decorators/aliasOf.js\";import\"../core/has.js\";import{cast as n}from\"../core/accessorSupport/decorators/cast.js\";import\"../core/Logger.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import{subclass as d}from\"../core/accessorSupport/decorators/subclass.js\";import l from\"./Widget.js\";import p from\"./Legend/LegendViewModel.js\";import c from\"./Legend/styles/Card.js\";import h from\"./Legend/styles/Classic.js\";import\"./support/widgetUtils.js\";import{messageBundle as y}from\"./support/decorators/messageBundle.js\";import{tsx as v}from\"./support/jsxFactory.js\";const g={base:\"esri-legend\",widget:\"esri-widget\",panel:\"esri-widget--panel\",widgetIcon:\"esri-icon-layer-list\"};let f=class extends l{constructor(e,t){super(e,t),this._handles=new s,this.activeLayerInfos=null,this.basemapLegendVisible=!1,this.groundLegendVisible=!1,this.headingLevel=3,this.hideLayersNotInCurrentView=!1,this.keepCacheOnDestroy=!1,this.respectLayerVisibility=!0,this.iconClass=g.widgetIcon,this.label=void 0,this.layerInfos=null,this.messages=null,this.style=new h,this.view=null,this.viewModel=new p}initialize(){this.own(t(this,\"activeLayerInfos\",\"change\",(()=>this._refreshActiveLayerInfos(this.activeLayerInfos))),i(this,\"headingLevel\",(e=>{const{style:s}=this;s&&(s.headingLevel=e)})),r(this,\"style\",((e,s)=>{s&&e!==s&&s.destroy(),e&&(e.activeLayerInfos=this.activeLayerInfos,\"card\"===e.type&&(e.view=this.view),e.headingLevel=this.headingLevel)})))}destroy(){this._handles.destroy(),this._handles=null}castStyle(e){if(e instanceof c||e instanceof h)return e;if(\"string\"==typeof e)return\"card\"===e?new c:new h;if(e&&\"string\"==typeof e.type){const s={...e};delete s.type;return new(\"card\"===e.type?c:h)(s)}return new h}render(){return v(\"div\",{class:this.classes(g.base,g.widget,this.style instanceof h?g.panel:null)},this.style.render())}_refreshActiveLayerInfos(e){this._handles.removeAll(),e.forEach((e=>this._renderOnActiveLayerInfoChange(e))),this.scheduleRender()}_renderOnActiveLayerInfoChange(e){const s=r(e,\"version\",(()=>this.scheduleRender()));this._handles.add(s,`version_${e.layer.uid}`);const i=t(e,\"children\",\"change\",(()=>{e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}));this._handles.add(i,`children_${e.layer.uid}`),e.children.forEach((e=>this._renderOnActiveLayerInfoChange(e)))}};e([o(\"viewModel.activeLayerInfos\")],f.prototype,\"activeLayerInfos\",void 0),e([o(\"viewModel.basemapLegendVisible\")],f.prototype,\"basemapLegendVisible\",void 0),e([o(\"viewModel.groundLegendVisible\")],f.prototype,\"groundLegendVisible\",void 0),e([a()],f.prototype,\"headingLevel\",void 0),e([o(\"viewModel.hideLayersNotInCurrentView\")],f.prototype,\"hideLayersNotInCurrentView\",void 0),e([o(\"viewModel.keepCacheOnDestroy\")],f.prototype,\"keepCacheOnDestroy\",void 0),e([o(\"viewModel.respectLayerVisibility\")],f.prototype,\"respectLayerVisibility\",void 0),e([a()],f.prototype,\"iconClass\",void 0),e([a({aliasOf:{source:\"messages.widgetLabel\",overridable:!0}})],f.prototype,\"label\",void 0),e([o(\"viewModel.layerInfos\")],f.prototype,\"layerInfos\",void 0),e([a(),y(\"esri/widgets/Legend/t9n/Legend\")],f.prototype,\"messages\",void 0),e([a()],f.prototype,\"style\",void 0),e([n(\"style\")],f.prototype,\"castStyle\",null),e([o(\"viewModel.view\")],f.prototype,\"view\",void 0),e([a()],f.prototype,\"viewModel\",void 0),f=e([d(\"esri.widgets.Legend\")],f);var L=f;export{L as default};\n"],"sourceRoot":""}